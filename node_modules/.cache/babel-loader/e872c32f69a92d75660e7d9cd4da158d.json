{"ast":null,"code":"/**\n * @welldone-software/why-did-you-render 6.0.3\n * MIT Licensed\n * Generated by Vitali Zaidman <vzaidman@gmail.com> (https://github.com/vzaidman)\n * Generated at 2020-11-24\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react'), require('lodash')) : typeof define === 'function' && define.amd ? define(['react', 'lodash'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.whyDidYouRender = factory(global.react, global.lodash));\n})(this, function (React, lodash) {\n  'use strict';\n\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n\n    if (e) {\n      Object.keys(e).forEach(function (k) {\n        if (k !== 'default') {\n          var d = Object.getOwnPropertyDescriptor(e, k);\n          Object.defineProperty(n, k, d.get ? d : {\n            enumerable: true,\n            get: function () {\n              return e[k];\n            }\n          });\n        }\n      });\n    }\n\n    n['default'] = e;\n    return Object.freeze(n);\n  }\n\n  var React__namespace = /*#__PURE__*/_interopNamespace(React);\n\n  var wdyrStore = {\n    /* The React object we patch */\n    React: undefined,\n\n    /* Processed user options for WDYR */\n    options: undefined,\n\n    /* The original React.createElement function */\n    origCreateElement: undefined,\n\n    /* The original React.createFactory function */\n    origCreateFactory: undefined,\n\n    /* The original React.cloneElement function */\n    origCloneElement: undefined,\n\n    /* A weak map of all React elements to their WDYR patched react elements */\n    componentsMap: new WeakMap(),\n\n    /* A weak map of props to the owner element that passed them */\n    ownerDataMap: new WeakMap(),\n\n    /* An array of hooks tracked during one render */\n    hooksPerRender: []\n  };\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _createForOfIteratorHelper(o, allowArrayLike) {\n    var it;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n\n        var F = function () {};\n\n        return {\n          s: F,\n          n: function () {\n            if (i >= o.length) return {\n              done: true\n            };\n            return {\n              done: false,\n              value: o[i++]\n            };\n          },\n          e: function (e) {\n            throw e;\n          },\n          f: F\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    var normalCompletion = true,\n        didErr = false,\n        err;\n    return {\n      s: function () {\n        it = o[Symbol.iterator]();\n      },\n      n: function () {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function (e) {\n        didErr = true;\n        err = e;\n      },\n      f: function () {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      }\n    };\n  }\n\n  var _diffTypesDescription;\n\n  var diffTypes = {\n    'different': 'different',\n    'deepEquals': 'deepEquals',\n    'date': 'date',\n    'regex': 'regex',\n    'reactElement': 'reactElement',\n    'function': 'function',\n    'same': 'same'\n  };\n  var diffTypesDescriptions = (_diffTypesDescription = {}, _defineProperty(_diffTypesDescription, diffTypes.different, 'different objects'), _defineProperty(_diffTypesDescription, diffTypes.deepEquals, 'different objects that are equal by value'), _defineProperty(_diffTypesDescription, diffTypes.date, 'different date objects with the same value'), _defineProperty(_diffTypesDescription, diffTypes.regex, 'different regular expressions with the same value'), _defineProperty(_diffTypesDescription, diffTypes.reactElement, 'different React elements (remember that the <jsx/> syntax always produces a *NEW* immutable React element so a component that receives <jsx/> as props always re-renders)'), _defineProperty(_diffTypesDescription, diffTypes[\"function\"], 'different functions with the same name'), _defineProperty(_diffTypesDescription, diffTypes.same, 'same objects by ref (===)'), _diffTypesDescription); // copied from packages/shared/ReactSymbols.js in https://github.com/facebook/react\n\n  var hasSymbol = typeof Symbol === 'function' && Symbol[\"for\"];\n  var REACT_MEMO_TYPE = hasSymbol ? Symbol[\"for\"]('react.memo') : 0xead3;\n  var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol[\"for\"]('react.forward_ref') : 0xead0;\n  var hasElementType = typeof Element !== 'undefined'; // copied from https://github.com/facebook/react/packages/shared/ReactSymbols.js\n\n  var hasSymbol$1 = typeof Symbol === 'function' && Symbol[\"for\"];\n  var REACT_ELEMENT_TYPE = hasSymbol$1 ? Symbol[\"for\"]('react.element') : 0xeac7;\n\n  var isReactElement = function isReactElement(object) {\n    return object.$$typeof === REACT_ELEMENT_TYPE;\n  }; // end\n\n\n  function trackDiff(a, b, diffsAccumulator, pathString, diffType) {\n    diffsAccumulator.push({\n      diffType: diffType,\n      pathString: pathString,\n      prevValue: a,\n      nextValue: b\n    });\n    return diffType !== diffTypes.different;\n  }\n\n  var dependenciesMap = new WeakMap();\n\n  function accumulateDeepEqualDiffs(a, b, diffsAccumulator) {\n    var pathString = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n\n    var _ref = arguments.length > 4 ? arguments[4] : undefined,\n        detailed = _ref.detailed;\n\n    if (a === b) {\n      if (detailed) {\n        trackDiff(a, b, diffsAccumulator, pathString, diffTypes.same);\n      }\n\n      return true;\n    }\n\n    if (!a || !b) {\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (lodash.isArray(a) && lodash.isArray(b)) {\n      var arrayLength = a.length;\n\n      if (arrayLength !== b.length) {\n        return trackDiff(_toConsumableArray(a), _toConsumableArray(b), diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      var arrayItemDiffs = [];\n      var numberOfDeepEqualsItems = 0;\n\n      for (var i = arrayLength; i--; i > 0) {\n        var diffEquals = accumulateDeepEqualDiffs(a[i], b[i], arrayItemDiffs, \"\".concat(pathString, \"[\").concat(i, \"]\"), {\n          detailed: detailed\n        });\n\n        if (diffEquals) {\n          numberOfDeepEqualsItems++;\n        }\n      }\n\n      if (detailed || numberOfDeepEqualsItems !== arrayLength) {\n        diffsAccumulator.push.apply(diffsAccumulator, arrayItemDiffs);\n      }\n\n      if (numberOfDeepEqualsItems === arrayLength) {\n        return trackDiff(_toConsumableArray(a), _toConsumableArray(b), diffsAccumulator, pathString, diffTypes.deepEquals);\n      }\n\n      return trackDiff(_toConsumableArray(a), _toConsumableArray(b), diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (lodash.isSet(a) && lodash.isSet(b)) {\n      if (a.size !== b.size) {\n        return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      var _iterator = _createForOfIteratorHelper(a),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var valA = _step.value;\n\n          if (!b.has(valA)) {\n            return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.different);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.deepEquals);\n    }\n\n    if (lodash.isDate(a) && lodash.isDate(b)) {\n      return a.getTime() === b.getTime() ? trackDiff(new Date(a), new Date(b), diffsAccumulator, pathString, diffTypes.date) : trackDiff(new Date(a), new Date(b), diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (lodash.isRegExp(a) && lodash.isRegExp(b)) {\n      return a.toString() === b.toString() ? trackDiff(a, b, diffsAccumulator, pathString, diffTypes.regex) : trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (hasElementType && a instanceof Element && b instanceof Element) {\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (isReactElement(a) && isReactElement(b)) {\n      if (a.type !== b.type) {\n        return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      var reactElementPropsAreDeepEqual = accumulateDeepEqualDiffs(a.props, b.props, [], \"\".concat(pathString, \".props\"), {\n        detailed: detailed\n      });\n      return reactElementPropsAreDeepEqual ? trackDiff(a, b, diffsAccumulator, pathString, diffTypes.reactElement) : trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    if (lodash.isFunction(a) && lodash.isFunction(b)) {\n      if (a.name !== b.name) {\n        return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      var aDependenciesObj = dependenciesMap.get(a);\n      var bDependenciesObj = dependenciesMap.get(b);\n\n      if (aDependenciesObj && bDependenciesObj) {\n        var dependenciesAreDeepEqual = accumulateDeepEqualDiffs(aDependenciesObj.deps, bDependenciesObj.deps, diffsAccumulator, \"\".concat(pathString, \":parent-hook-\").concat(aDependenciesObj.hookName, \"-deps\"), {\n          detailed: detailed\n        });\n        return dependenciesAreDeepEqual ? trackDiff(a, b, diffsAccumulator, pathString, diffTypes[\"function\"]) : trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes[\"function\"]);\n    }\n\n    if (lodash.isPlainObject(a) && lodash.isPlainObject(b)) {\n      var keys = lodash.keys(a);\n      var keysLength = keys.length;\n\n      if (keysLength !== lodash.keys(b).length) {\n        return trackDiff(_objectSpread2({}, a), _objectSpread2({}, b), diffsAccumulator, pathString, diffTypes.different);\n      }\n\n      for (var _i = keysLength; _i--; _i > 0) {\n        if (!lodash.has(b, keys[_i])) {\n          return trackDiff(_objectSpread2({}, a), _objectSpread2({}, b), diffsAccumulator, pathString, diffTypes.different);\n        }\n      }\n\n      var objectValuesDiffs = [];\n      var numberOfDeepEqualsObjectValues = 0;\n\n      for (var _i2 = keysLength; _i2--; _i2 > 0) {\n        var key = keys[_i2];\n        var deepEquals = accumulateDeepEqualDiffs(a[key], b[key], objectValuesDiffs, \"\".concat(pathString, \".\").concat(key), {\n          detailed: detailed\n        });\n\n        if (deepEquals) {\n          numberOfDeepEqualsObjectValues++;\n        }\n      }\n\n      if (detailed || numberOfDeepEqualsObjectValues !== keysLength) {\n        diffsAccumulator.push.apply(diffsAccumulator, objectValuesDiffs);\n      }\n\n      if (numberOfDeepEqualsObjectValues === keysLength) {\n        return trackDiff(_objectSpread2({}, a), _objectSpread2({}, b), diffsAccumulator, pathString, diffTypes.deepEquals);\n      }\n\n      return trackDiff(_objectSpread2({}, a), _objectSpread2({}, b), diffsAccumulator, pathString, diffTypes.different);\n    }\n\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different);\n  }\n\n  function calculateDeepEqualDiffs(a, b, initialPathString) {\n    var _ref2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n        _ref2$detailed = _ref2.detailed,\n        detailed = _ref2$detailed === void 0 ? false : _ref2$detailed;\n\n    try {\n      var diffs = [];\n      accumulateDeepEqualDiffs(a, b, diffs, initialPathString, {\n        detailed: detailed\n      });\n      return diffs;\n    } catch (error) {\n      if (error.message && error.message.match(/stack|recursion/i) || error.number === -2146828260) {\n        // warn on circular references, don't crash.\n        // browsers throw different errors name and messages:\n        // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n        // firefox: \"InternalError\", too much recursion\"\n        // edge: \"Error\", \"Out of stack space\"\n        // eslint-disable-next-line no-console\n        console.warn('Warning: why-did-you-render couldn\\'t handle circular references in props.', error.name, error.message);\n        return false;\n      }\n\n      throw error;\n    }\n  }\n\n  function printDiff(value1, value2, _ref) {\n    var pathString = _ref.pathString,\n        consoleLog = _ref.consoleLog;\n    var diffs = calculateDeepEqualDiffs(value1, value2, pathString, {\n      detailed: true\n    });\n    var keysLength = Math.max.apply(Math, _toConsumableArray(diffs.map(function (diff) {\n      return diff.pathString.length;\n    }))) + 2;\n    Object.entries(lodash.groupBy(lodash.sortBy(diffs, 'pathString'), 'diffType')).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          diffType = _ref3[0],\n          diffs = _ref3[1];\n\n      consoleLog(\"%c\".concat(diffTypesDescriptions[diffType], \":\"), 'text-decoration: underline; color: blue;');\n      diffs.forEach(function (diff) {\n        consoleLog(\"\".concat(diff.pathString, \":\").padEnd(keysLength, ' '), diff.prevValue);\n      });\n    });\n  }\n\n  var moreInfoUrl = 'http://bit.ly/wdyr02';\n  var moreInfoHooksUrl = 'http://bit.ly/wdyr3';\n  var inHotReload = false;\n\n  function shouldLog(reason, Component) {\n    if (inHotReload) {\n      return false;\n    }\n\n    if (wdyrStore.options.logOnDifferentValues) {\n      return true;\n    }\n\n    if (Component.whyDidYouRender && Component.whyDidYouRender.logOnDifferentValues) {\n      return true;\n    }\n\n    var hasDifferentValues = reason.propsDifferences && reason.propsDifferences.some(function (diff) {\n      return diff.diffType === diffTypes.different;\n    }) || reason.stateDifferences && reason.stateDifferences.some(function (diff) {\n      return diff.diffType === diffTypes.different;\n    }) || reason.hookDifferences && reason.hookDifferences.some(function (diff) {\n      return diff.diffType === diffTypes.different;\n    });\n    return !hasDifferentValues;\n  }\n\n  function logDifference(_ref) {\n    var Component = _ref.Component,\n        displayName = _ref.displayName,\n        hookName = _ref.hookName,\n        prefixMessage = _ref.prefixMessage,\n        diffObjType = _ref.diffObjType,\n        differences = _ref.differences,\n        values = _ref.values;\n\n    if (differences && differences.length > 0) {\n      wdyrStore.options.consoleLog(_defineProperty({}, displayName, Component), \"\".concat(prefixMessage, \" of \").concat(diffObjType, \" changes:\"));\n      differences.forEach(function (_ref2) {\n        var pathString = _ref2.pathString,\n            diffType = _ref2.diffType,\n            prevValue = _ref2.prevValue,\n            nextValue = _ref2.nextValue;\n\n        function diffFn() {\n          printDiff(prevValue, nextValue, {\n            pathString: pathString,\n            consoleLog: wdyrStore.options.consoleLog\n          });\n        }\n\n        wdyrStore.options.consoleGroup(\"%c\".concat(diffObjType === 'hook' ? \"[hook \".concat(hookName, \" result]\") : \"\".concat(diffObjType, \".\"), \"%c\").concat(pathString, \"%c\"), \"color:\".concat(wdyrStore.options.diffNameColor, \";\"), \"color:\".concat(wdyrStore.options.diffPathColor, \";\"), 'color:default;');\n        wdyrStore.options.consoleLog(\"\".concat(diffTypesDescriptions[diffType], \". (more info at \").concat(hookName ? moreInfoHooksUrl : moreInfoUrl, \")\"));\n        wdyrStore.options.consoleLog(_defineProperty({}, \"prev \".concat(pathString), prevValue), '!==', _defineProperty({}, \"next \".concat(pathString), nextValue));\n\n        if (diffType === diffTypes.deepEquals) {\n          wdyrStore.options.consoleLog({\n            'For detailed diff, right click the following fn, save as global, and run: ': diffFn\n          });\n        }\n\n        wdyrStore.options.consoleGroupEnd();\n      });\n    } else if (differences) {\n      wdyrStore.options.consoleLog(_defineProperty({}, displayName, Component), \"\".concat(prefixMessage, \" the \").concat(diffObjType, \" object itself changed but its values are all equal.\"), diffObjType === 'props' ? 'This could have been avoided by making the component pure, or by preventing its father from re-rendering.' : 'This usually means this component called setState when no changes in its state actually occurred.', \"More info at \".concat(moreInfoUrl));\n      wdyrStore.options.consoleLog(\"prev \".concat(diffObjType, \":\"), values.prev, ' !== ', values.next, \":next \".concat(diffObjType));\n    }\n  }\n\n  function defaultNotifier(updateInfo) {\n    var Component = updateInfo.Component,\n        displayName = updateInfo.displayName,\n        hookName = updateInfo.hookName,\n        prevProps = updateInfo.prevProps,\n        prevState = updateInfo.prevState,\n        prevHook = updateInfo.prevHook,\n        nextProps = updateInfo.nextProps,\n        nextState = updateInfo.nextState,\n        nextHook = updateInfo.nextHook,\n        reason = updateInfo.reason;\n\n    if (!shouldLog(reason, Component)) {\n      return;\n    }\n\n    wdyrStore.options.consoleGroup(\"%c\".concat(displayName), \"color: \".concat(wdyrStore.options.titleColor, \";\"));\n    var prefixMessage = 'Re-rendered because';\n\n    if (reason.propsDifferences) {\n      logDifference({\n        Component: Component,\n        displayName: displayName,\n        prefixMessage: prefixMessage,\n        diffObjType: 'props',\n        differences: reason.propsDifferences,\n        values: {\n          prev: prevProps,\n          next: nextProps\n        }\n      });\n      prefixMessage = 'And because';\n    }\n\n    if (reason.stateDifferences) {\n      logDifference({\n        Component: Component,\n        displayName: displayName,\n        prefixMessage: prefixMessage,\n        diffObjType: 'state',\n        differences: reason.stateDifferences,\n        values: {\n          prev: prevState,\n          next: nextState\n        }\n      });\n    }\n\n    if (reason.hookDifferences) {\n      logDifference({\n        Component: Component,\n        displayName: displayName,\n        prefixMessage: prefixMessage,\n        diffObjType: 'hook',\n        differences: reason.hookDifferences,\n        values: {\n          prev: prevHook,\n          next: nextHook\n        },\n        hookName: hookName\n      });\n    }\n\n    if (reason.propsDifferences && reason.ownerDifferences) {\n      var prevOwnerData = wdyrStore.ownerDataMap.get(prevProps);\n      var nextOwnerData = wdyrStore.ownerDataMap.get(nextProps);\n      wdyrStore.options.consoleGroup(\"Rendered by \".concat(nextOwnerData.displayName));\n      var _prefixMessage = 'Re-rendered because';\n\n      if (reason.ownerDifferences.propsDifferences) {\n        logDifference({\n          Component: nextOwnerData.Component,\n          displayName: nextOwnerData.displayName,\n          prefixMessage: _prefixMessage,\n          diffObjType: 'props',\n          differences: reason.ownerDifferences.propsDifferences,\n          values: {\n            prev: prevOwnerData.props,\n            next: nextOwnerData.props\n          }\n        });\n        _prefixMessage = 'And because';\n      }\n\n      if (reason.ownerDifferences.stateDifferences) {\n        logDifference({\n          Component: nextOwnerData.Component,\n          displayName: nextOwnerData.displayName,\n          prefixMessage: _prefixMessage,\n          diffObjType: 'state',\n          differences: reason.ownerDifferences.stateDifferences,\n          values: {\n            prev: prevOwnerData.state,\n            next: nextOwnerData.state\n          }\n        });\n      }\n\n      if (reason.ownerDifferences.hookDifferences) {\n        reason.ownerDifferences.hookDifferences.forEach(function (_ref3, i) {\n          var hookName = _ref3.hookName,\n              differences = _ref3.differences;\n          return logDifference({\n            Component: nextOwnerData.Component,\n            displayName: nextOwnerData.displayName,\n            prefixMessage: _prefixMessage,\n            diffObjType: 'hook',\n            differences: differences,\n            values: {\n              prev: prevOwnerData.hooks[i].result,\n              next: nextOwnerData.hooks[i].result\n            },\n            hookName: hookName\n          });\n        });\n      }\n\n      wdyrStore.options.consoleGroupEnd();\n    }\n\n    if (!reason.propsDifferences && !reason.stateDifferences && !reason.hookDifferences) {\n      wdyrStore.options.consoleLog(_defineProperty({}, displayName, Component), 'Re-rendered although props and state objects are the same.', 'This usually means there was a call to this.forceUpdate() inside the component.', \"more info at \".concat(moreInfoUrl));\n    }\n\n    wdyrStore.options.consoleGroupEnd();\n  }\n\n  function createDefaultNotifier(hotReloadBufferMs) {\n    if (hotReloadBufferMs) {\n      if (typeof module !== 'undefined' && module.hot && module.hot.addStatusHandler) {\n        module.hot.addStatusHandler(function (status) {\n          if (status === 'idle') {\n            inHotReload = true;\n            setTimeout(function () {\n              inHotReload = false;\n            }, hotReloadBufferMs);\n          }\n        });\n      }\n    }\n\n    return defaultNotifier;\n  }\n\n  var emptyFn = function emptyFn() {};\n\n  function normalizeOptions() {\n    var userOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var consoleGroup = console.group;\n    var consoleGroupEnd = console.groupEnd;\n\n    if (userOptions.collapseGroups) {\n      consoleGroup = console.groupCollapsed;\n    } else if (userOptions.onlyLogs) {\n      consoleGroup = console.log;\n      consoleGroupEnd = emptyFn;\n    }\n\n    var notifier = userOptions.notifier || createDefaultNotifier('hotReloadBufferMs' in userOptions ? userOptions.hotReloadBufferMs : 500);\n    return _objectSpread2({\n      include: null,\n      exclude: null,\n      notifier: notifier,\n      onlyLogs: false,\n      consoleLog: console.log,\n      consoleGroup: consoleGroup,\n      consoleGroupEnd: consoleGroupEnd,\n      logOnDifferentValues: false,\n      logOwnerReasons: true,\n      trackHooks: true,\n      titleColor: '#058',\n      diffNameColor: 'blue',\n      diffPathColor: 'red',\n      trackExtraHooks: [],\n      trackAllPureComponents: false\n    }, userOptions);\n  }\n\n  function getDisplayName(type) {\n    return type.displayName || type.name || type.type && getDisplayName(type.type) || type.render && getDisplayName(type.render) || (lodash.isString(type) ? type : 'Unknown');\n  }\n\n  var emptyObject = {};\n\n  function findObjectsDifferences(userPrevObj, userNextObj) {\n    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref$shallow = _ref.shallow,\n        shallow = _ref$shallow === void 0 ? true : _ref$shallow;\n\n    if (userPrevObj === userNextObj) {\n      return false;\n    }\n\n    if (!shallow) {\n      return calculateDeepEqualDiffs(userPrevObj, userNextObj);\n    }\n\n    var prevObj = userPrevObj || emptyObject;\n    var nextObj = userNextObj || emptyObject;\n    var keysOfBothObjects = Object.keys(_objectSpread2(_objectSpread2({}, prevObj), nextObj));\n    return lodash.reduce(keysOfBothObjects, function (result, key) {\n      var deepEqualDiffs = calculateDeepEqualDiffs(prevObj[key], nextObj[key], key);\n\n      if (deepEqualDiffs) {\n        result = [].concat(_toConsumableArray(result), _toConsumableArray(deepEqualDiffs));\n      }\n\n      return result;\n    }, []);\n  }\n\n  function getOwnerDifferences(_ref) {\n    var prevOwnerData = _ref.prevOwnerData,\n        nextOwnerData = _ref.nextOwnerData;\n\n    if (!prevOwnerData || !nextOwnerData) {\n      return false;\n    } // in strict mode prevOwnerData might be twice as lengthy because of double renders\n\n\n    var prevOwnerDataHooks = prevOwnerData.hooks.length === nextOwnerData.hooks.length * 2 ? prevOwnerData.hooks.slice(prevOwnerData.hooks.length / 2) : prevOwnerData.hooks;\n    var hookDifferences = prevOwnerDataHooks.map(function (_ref2, i) {\n      var hookName = _ref2.hookName,\n          result = _ref2.result;\n      return {\n        hookName: hookName,\n        differences: findObjectsDifferences(result, nextOwnerData.hooks[i].result, {\n          shallow: false\n        })\n      };\n    });\n    return {\n      propsDifferences: findObjectsDifferences(prevOwnerData.props, nextOwnerData.props),\n      stateDifferences: findObjectsDifferences(prevOwnerData.state, nextOwnerData.state),\n      hookDifferences: hookDifferences.length > 0 ? hookDifferences : false\n    };\n  }\n\n  function getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook) {\n    var prevOwnerData = wdyrStore.ownerDataMap.get(prevProps);\n    var nextOwnerData = wdyrStore.ownerDataMap.get(nextProps);\n    return {\n      propsDifferences: findObjectsDifferences(prevProps, nextProps),\n      stateDifferences: findObjectsDifferences(prevState, nextState),\n      hookDifferences: findObjectsDifferences(prevHook, nextHook, {\n        shallow: false\n      }),\n      ownerDifferences: getOwnerDifferences({\n        prevOwnerData: prevOwnerData,\n        nextOwnerData: nextOwnerData\n      })\n    };\n  }\n\n  function getUpdateInfo(_ref3) {\n    var Component = _ref3.Component,\n        displayName = _ref3.displayName,\n        hookName = _ref3.hookName,\n        prevProps = _ref3.prevProps,\n        prevState = _ref3.prevState,\n        prevHook = _ref3.prevHook,\n        nextProps = _ref3.nextProps,\n        nextState = _ref3.nextState,\n        nextHook = _ref3.nextHook;\n    return {\n      Component: Component,\n      displayName: displayName,\n      hookName: hookName,\n      prevProps: prevProps,\n      prevState: prevState,\n      prevHook: prevHook,\n      nextProps: nextProps,\n      nextState: nextState,\n      nextHook: nextHook,\n      reason: getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook)\n    };\n  } // copied from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactTypeOfMode.js\n\n\n  var StrictMode = 1; // based on \"findStrictRoot\" from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactStrictModeWarnings.js\n  // notice: this is only used for class components. functional components doesn't render twice inside strict mode\n\n  function checkIfInsideAStrictModeTree(reactComponentInstance) {\n    var reactInternalFiber = reactComponentInstance && (reactComponentInstance._reactInternalFiber || reactComponentInstance._reactInternals);\n\n    while (reactInternalFiber) {\n      if (reactInternalFiber.mode & StrictMode) {\n        return true;\n      }\n\n      reactInternalFiber = reactInternalFiber[\"return\"];\n    }\n\n    return false;\n  }\n\n  function isReactClassComponent(Component) {\n    return Component.prototype && !!Component.prototype.isReactComponent;\n  }\n\n  function isMemoComponent(Component) {\n    return Component.$$typeof === REACT_MEMO_TYPE;\n  }\n\n  function isForwardRefComponent(Component) {\n    return Component.$$typeof === REACT_FORWARD_REF_TYPE;\n  }\n\n  function shouldInclude(displayName) {\n    return wdyrStore.options.include && wdyrStore.options.include.length > 0 && wdyrStore.options.include.some(function (regex) {\n      return regex.test(displayName);\n    });\n  }\n\n  function shouldExclude(displayName) {\n    return wdyrStore.options.exclude && wdyrStore.options.exclude.length > 0 && wdyrStore.options.exclude.some(function (regex) {\n      return regex.test(displayName);\n    });\n  }\n\n  function shouldTrack(Component, _ref) {\n    var isHookChange = _ref.isHookChange;\n    var displayName = getDisplayName(Component);\n\n    if (shouldExclude(displayName)) {\n      return false;\n    }\n\n    if (Component.whyDidYouRender === false) {\n      return false;\n    }\n\n    if (isHookChange && Component.whyDidYouRender && Component.whyDidYouRender.trackHooks === false) {\n      return false;\n    }\n\n    return !!(Component.whyDidYouRender || wdyrStore.options.trackAllPureComponents && (Component && Component.prototype instanceof wdyrStore.React.PureComponent || isMemoComponent(Component)) || shouldInclude(displayName));\n  }\n\n  function patchClassComponent(ClassComponent, _ref) {\n    var displayName = _ref.displayName;\n\n    var WDYRPatchedClassComponent = /*#__PURE__*/function (_ClassComponent) {\n      _inherits(WDYRPatchedClassComponent, _ClassComponent);\n\n      var _super = _createSuper(WDYRPatchedClassComponent);\n\n      function WDYRPatchedClassComponent(props, context) {\n        var _thisSuper, _this;\n\n        _classCallCheck(this, WDYRPatchedClassComponent);\n\n        _this = _super.call(this, props, context);\n        _this._WDYR = {\n          renderNumber: 0\n        };\n\n        var origRender = _get((_thisSuper = _assertThisInitialized(_this), _getPrototypeOf(WDYRPatchedClassComponent.prototype)), \"render\", _thisSuper) || _this.render; // this probably means that render is an arrow function or this.render.bind(this) was called on the original class\n\n\n        var renderIsABindedFunction = origRender !== ClassComponent.prototype.render;\n\n        if (renderIsABindedFunction) {\n          _this.render = function () {\n            WDYRPatchedClassComponent.prototype.render.apply(_assertThisInitialized(_this));\n            return origRender();\n          };\n        }\n\n        return _this;\n      }\n\n      _createClass(WDYRPatchedClassComponent, [{\n        key: \"render\",\n        value: function render() {\n          this._WDYR.renderNumber++;\n\n          if (!('isStrictMode' in this._WDYR)) {\n            this._WDYR.isStrictMode = checkIfInsideAStrictModeTree(this);\n          } // in strict mode- ignore every other render\n\n\n          if (!(this._WDYR.isStrictMode && this._WDYR.renderNumber % 2 === 1)) {\n            if (this._WDYR.prevProps) {\n              var updateInfo = getUpdateInfo({\n                Component: ClassComponent,\n                displayName: displayName,\n                prevProps: this._WDYR.prevProps,\n                prevState: this._WDYR.prevState,\n                nextProps: this.props,\n                nextState: this.state\n              });\n              wdyrStore.options.notifier(updateInfo);\n            }\n\n            this._WDYR.prevProps = this.props;\n            this._WDYR.prevState = this.state;\n          }\n\n          return _get(_getPrototypeOf(WDYRPatchedClassComponent.prototype), \"render\", this) ? _get(_getPrototypeOf(WDYRPatchedClassComponent.prototype), \"render\", this).call(this) : null;\n        }\n      }]);\n\n      return WDYRPatchedClassComponent;\n    }(ClassComponent);\n\n    try {\n      WDYRPatchedClassComponent.displayName = displayName;\n    } catch (e) {// not crucial if displayName couldn't be set\n    }\n\n    lodash.defaults(WDYRPatchedClassComponent, ClassComponent);\n    return WDYRPatchedClassComponent;\n  }\n\n  var getFunctionalComponentFromStringComponent = function getFunctionalComponentFromStringComponent(componentTypeStr) {\n    return function (props) {\n      return wdyrStore.React.createElement(componentTypeStr, props);\n    };\n  };\n\n  function patchFunctionalOrStrComponent(FunctionalOrStringComponent, _ref) {\n    var isPure = _ref.isPure,\n        displayName = _ref.displayName;\n    var FunctionalComponent = typeof FunctionalOrStringComponent === 'string' ? getFunctionalComponentFromStringComponent(FunctionalOrStringComponent) : FunctionalOrStringComponent;\n\n    function WDYRFunctionalComponent() {\n      var nextProps = arguments[0];\n      var ref = wdyrStore.React.useRef();\n      var prevProps = ref.current;\n      ref.current = nextProps;\n\n      if (prevProps) {\n        var updateInfo = getUpdateInfo({\n          Component: FunctionalComponent,\n          displayName: displayName,\n          prevProps: prevProps,\n          nextProps: nextProps\n        });\n        var notifiedByHooks = !updateInfo.reason.propsDifferences || isPure && updateInfo.reason.propsDifferences.length === 0;\n\n        if (!notifiedByHooks) {\n          wdyrStore.options.notifier(updateInfo);\n        }\n      }\n\n      return FunctionalComponent.apply(void 0, arguments);\n    }\n\n    try {\n      WDYRFunctionalComponent.displayName = displayName;\n    } catch (e) {// not crucial if displayName couldn't be set\n    }\n\n    WDYRFunctionalComponent.ComponentForHooksTracking = FunctionalComponent;\n    lodash.defaults(WDYRFunctionalComponent, FunctionalComponent);\n    return WDYRFunctionalComponent;\n  }\n\n  function patchMemoComponent(MemoComponent, _ref) {\n    var displayName = _ref.displayName;\n    var InnerMemoComponent = MemoComponent.type;\n    var isInnerMemoComponentAClassComponent = isReactClassComponent(InnerMemoComponent);\n    var isInnerMemoComponentForwardRefs = isForwardRefComponent(InnerMemoComponent);\n    var isInnerMemoComponentAnotherMemoComponent = isMemoComponent(InnerMemoComponent);\n    var WrappedFunctionalComponent = isInnerMemoComponentForwardRefs ? InnerMemoComponent.render : InnerMemoComponent;\n    var PatchedInnerComponent = isInnerMemoComponentAClassComponent ? patchClassComponent(WrappedFunctionalComponent, {\n      displayName: displayName\n    }) : isInnerMemoComponentAnotherMemoComponent ? patchMemoComponent(WrappedFunctionalComponent, {\n      displayName: displayName\n    }) : patchFunctionalOrStrComponent(WrappedFunctionalComponent, {\n      displayName: displayName,\n      isPure: true\n    });\n\n    try {\n      PatchedInnerComponent.displayName = getDisplayName(WrappedFunctionalComponent);\n    } catch (e) {// not crucial if displayName couldn't be set\n    }\n\n    PatchedInnerComponent.ComponentForHooksTracking = MemoComponent;\n    lodash.defaults(PatchedInnerComponent, WrappedFunctionalComponent);\n    var WDYRMemoizedFunctionalComponent = wdyrStore.React.memo(isInnerMemoComponentForwardRefs ? wdyrStore.React.forwardRef(PatchedInnerComponent) : PatchedInnerComponent, MemoComponent.compare);\n\n    try {\n      WDYRMemoizedFunctionalComponent.displayName = displayName;\n    } catch (e) {// not crucial if displayName couldn't be set\n    }\n\n    lodash.defaults(WDYRMemoizedFunctionalComponent, MemoComponent);\n    return WDYRMemoizedFunctionalComponent;\n  }\n\n  function patchForwardRefComponent(ForwardRefComponent, _ref) {\n    var displayName = _ref.displayName;\n    var InnerForwardRefComponent = ForwardRefComponent.render;\n    var isInnerComponentMemoized = isMemoComponent(InnerForwardRefComponent);\n    var WrappedFunctionalComponent = isInnerComponentMemoized ? InnerForwardRefComponent.type : InnerForwardRefComponent;\n    var WDYRWrappedByReactForwardRefFunctionalComponent = patchFunctionalOrStrComponent(WrappedFunctionalComponent, {\n      isPure: isInnerComponentMemoized,\n      displayName: displayName\n    });\n    WDYRWrappedByReactForwardRefFunctionalComponent.displayName = getDisplayName(WrappedFunctionalComponent);\n    WDYRWrappedByReactForwardRefFunctionalComponent.ComponentForHooksTracking = WrappedFunctionalComponent;\n    lodash.defaults(WDYRWrappedByReactForwardRefFunctionalComponent, WrappedFunctionalComponent);\n    var WDYRForwardRefFunctionalComponent = wdyrStore.React.forwardRef(isInnerComponentMemoized ? wdyrStore.React.memo(WDYRWrappedByReactForwardRefFunctionalComponent, InnerForwardRefComponent.compare) : WDYRWrappedByReactForwardRefFunctionalComponent);\n\n    try {\n      WDYRForwardRefFunctionalComponent.displayName = displayName;\n    } catch (e) {// not crucial if displayName couldn't be set\n    }\n\n    lodash.defaults(WDYRForwardRefFunctionalComponent, ForwardRefComponent);\n    return WDYRForwardRefFunctionalComponent;\n  }\n\n  var initialHookValue = Symbol('initial-hook-value');\n\n  function trackHookChanges(hookName, _ref, hookResult) {\n    var hookPath = _ref.path;\n    var nextHook = hookPath ? lodash.get(hookResult, hookPath) : hookResult;\n    var renderNumberForTheHook = wdyrStore.React.useRef(true); // TODO: improve\n\n    var isSecondCycleOfRenders = wdyrStore.hooksPerRender[0] && wdyrStore.hooksPerRender[0].renderNumberForTheHook !== renderNumberForTheHook.current;\n\n    if (isSecondCycleOfRenders) {\n      wdyrStore.hooksPerRender = [];\n    }\n\n    wdyrStore.hooksPerRender.push({\n      hookName: hookName,\n      result: nextHook,\n      renderNumberForTheHook: renderNumberForTheHook.current\n    });\n    renderNumberForTheHook.current++;\n    var ComponentHookDispatchedFromInstance = wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED && wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current;\n    var prevHookRef = wdyrStore.React.useRef(initialHookValue);\n\n    if (!ComponentHookDispatchedFromInstance) {\n      return hookResult;\n    }\n\n    var Component = ComponentHookDispatchedFromInstance.type.ComponentForHooksTracking || ComponentHookDispatchedFromInstance.type;\n    var displayName = getDisplayName(Component);\n    var isShouldTrack = shouldTrack(Component, {\n      isHookChange: true\n    });\n\n    if (!isShouldTrack) {\n      return hookResult;\n    }\n\n    var newPrevHookRef = prevHookRef.current;\n    prevHookRef.current = hookResult;\n\n    if (newPrevHookRef !== initialHookValue) {\n      var notification = getUpdateInfo({\n        Component: Component,\n        displayName: displayName,\n        hookName: hookName,\n        prevHook: hookPath ? lodash.get(newPrevHookRef, hookPath) : newPrevHookRef,\n        nextHook: nextHook\n      });\n\n      if (notification.reason.hookDifferences) {\n        wdyrStore.options.notifier(notification);\n      }\n    }\n\n    return hookResult;\n  }\n\n  function createPatchedComponent(Component, _ref2) {\n    var displayName = _ref2.displayName;\n\n    if (isMemoComponent(Component)) {\n      return patchMemoComponent(Component, {\n        displayName: displayName\n      });\n    }\n\n    if (isForwardRefComponent(Component)) {\n      return patchForwardRefComponent(Component, {\n        displayName: displayName\n      });\n    }\n\n    if (isReactClassComponent(Component)) {\n      return patchClassComponent(Component, {\n        displayName: displayName\n      });\n    }\n\n    return patchFunctionalOrStrComponent(Component, {\n      displayName: displayName,\n      isPure: false\n    });\n  }\n\n  function getPatchedComponent(Component, _ref3) {\n    var displayName = _ref3.displayName;\n\n    if (wdyrStore.componentsMap.has(Component)) {\n      return wdyrStore.componentsMap.get(Component);\n    }\n\n    var WDYRPatchedComponent = createPatchedComponent(Component, {\n      displayName: displayName\n    });\n    wdyrStore.componentsMap.set(Component, WDYRPatchedComponent);\n    return WDYRPatchedComponent;\n  }\n\n  function getIsSupportedComponentType(Comp) {\n    if (!Comp) {\n      return false;\n    }\n\n    if (isMemoComponent(Comp)) {\n      return getIsSupportedComponentType(Comp.type);\n    }\n\n    if (isForwardRefComponent(Comp)) {\n      return getIsSupportedComponentType(Comp.render);\n    }\n\n    if (typeof Comp === 'function') {\n      return true;\n    }\n  }\n\n  var hooksConfig = {\n    useState: {\n      path: '0'\n    },\n    useReducer: {\n      path: '0'\n    },\n    useContext: undefined,\n    useMemo: {\n      dependenciesPath: '1',\n      dontReport: true\n    },\n    useCallback: {\n      dependenciesPath: '1',\n      dontReport: true\n    }\n  };\n\n  function storeOwnerData(element) {\n    var OwnerInstance = wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current;\n\n    if (OwnerInstance) {\n      var Component = OwnerInstance.type.ComponentForHooksTracking || OwnerInstance.type;\n      var displayName = getDisplayName(Component);\n      wdyrStore.ownerDataMap.set(element.props, {\n        Component: Component,\n        displayName: displayName,\n        props: OwnerInstance.pendingProps,\n        state: OwnerInstance.stateNode ? OwnerInstance.stateNode.state : null,\n        hooks: wdyrStore.hooksPerRender\n      });\n    }\n  }\n\n  function resetHooksPerRenderIfNeeded() {\n    // Intercept assignments to ReactCurrentOwner.current to reset hooksPerRender\n    var currentOwner = null;\n\n    if (wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) {\n      Object.defineProperty(wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, 'current', {\n        get: function get() {\n          return currentOwner;\n        },\n        set: function set(value) {\n          currentOwner = value;\n          wdyrStore.hooksPerRender = [];\n        }\n      });\n    }\n  }\n\n  function trackHooksIfNeeded() {\n    var hooksSupported = !!wdyrStore.React.useState;\n\n    if (wdyrStore.options.trackHooks && hooksSupported) {\n      var nativeHooks = Object.entries(hooksConfig).map(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            hookName = _ref5[0],\n            hookTrackingConfig = _ref5[1];\n\n        return [wdyrStore.React, hookName, hookTrackingConfig];\n      });\n      var hooksToTrack = [].concat(_toConsumableArray(nativeHooks), _toConsumableArray(wdyrStore.options.trackExtraHooks));\n      hooksToTrack.forEach(function (_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 3),\n            hookParent = _ref7[0],\n            hookName = _ref7[1],\n            _ref7$ = _ref7[2],\n            hookTrackingConfig = _ref7$ === void 0 ? {} : _ref7$;\n\n        var originalHook = hookParent[hookName];\n        var newHookName = hookName[0].toUpperCase() + hookName.slice(1);\n\n        var newHook = function newHook() {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var hookResult = originalHook.call.apply(originalHook, [this].concat(args));\n          var dependenciesPath = hookTrackingConfig.dependenciesPath,\n              dontReport = hookTrackingConfig.dontReport;\n\n          if (dependenciesPath && lodash.isFunction(hookResult)) {\n            dependenciesMap.set(hookResult, {\n              hookName: hookName,\n              deps: lodash.get(args, dependenciesPath)\n            });\n          }\n\n          if (!dontReport) {\n            trackHookChanges(hookName, hookTrackingConfig, hookResult);\n          }\n\n          return hookResult;\n        };\n\n        Object.defineProperty(newHook, 'name', {\n          value: newHookName,\n          writable: false\n        });\n        Object.assign(newHook, {\n          originalHook: originalHook\n        });\n        hookParent[hookName] = newHook;\n      });\n    }\n  }\n\n  function getWDYRType(origType) {\n    var isShouldTrack = getIsSupportedComponentType(origType) && shouldTrack(origType, {\n      isHookChange: false\n    });\n\n    if (!isShouldTrack) {\n      return null;\n    }\n\n    var displayName = origType && origType.whyDidYouRender && origType.whyDidYouRender.customName || getDisplayName(origType);\n    var WDYRPatchedComponent = getPatchedComponent(origType, {\n      displayName: displayName\n    });\n    return WDYRPatchedComponent;\n  }\n\n  function whyDidYouRender(React, userOptions) {\n    Object.assign(wdyrStore, {\n      React: React,\n      options: normalizeOptions(userOptions),\n      origCreateElement: React.createElement,\n      origCreateFactory: React.createFactory,\n      origCloneElement: React.cloneElement,\n      componentsMap: new WeakMap()\n    });\n    resetHooksPerRenderIfNeeded();\n\n    React.createElement = function (origType) {\n      var WDYRType = getWDYRType(origType);\n\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n\n      if (WDYRType) {\n        try {\n          var element = wdyrStore.origCreateElement.apply(React, [WDYRType].concat(rest));\n\n          if (wdyrStore.options.logOwnerReasons) {\n            storeOwnerData(element);\n          }\n\n          return element;\n        } catch (e) {\n          wdyrStore.options.consoleLog('whyDidYouRender error. Please file a bug at https://github.com/welldone-software/why-did-you-render/issues.', {\n            errorInfo: {\n              error: e,\n              componentNameOrComponent: origType,\n              rest: rest,\n              options: wdyrStore.options\n            }\n          });\n        }\n      }\n\n      return wdyrStore.origCreateElement.apply(React, [origType].concat(rest));\n    };\n\n    Object.assign(React.createElement, wdyrStore.origCreateElement);\n\n    React.createFactory = function (type) {\n      var factory = React.createElement.bind(null, type);\n      factory.type = type;\n      return factory;\n    };\n\n    Object.assign(React.createFactory, wdyrStore.origCreateFactory);\n\n    React.cloneElement = function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      var element = wdyrStore.origCloneElement.apply(React, args);\n\n      if (wdyrStore.options.logOwnerReasons) {\n        storeOwnerData(element);\n      }\n\n      return element;\n    };\n\n    Object.assign(React.cloneElement, wdyrStore.origCloneElement);\n    trackHooksIfNeeded();\n    React.isWDYR = true;\n\n    React.__REVERT_WHY_DID_YOU_RENDER__ = function () {\n      Object.assign(React, {\n        createElement: wdyrStore.origCreateElement,\n        createFactory: wdyrStore.origCreateFactory,\n        cloneElement: wdyrStore.origCloneElement\n      });\n      wdyrStore.componentsMap = null;\n      var hooksToRevert = [].concat(_toConsumableArray(Object.keys(hooksConfig).map(function (hookName) {\n        return [React, hookName];\n      })), _toConsumableArray(wdyrStore.options.trackExtraHooks));\n      hooksToRevert.forEach(function (_ref8) {\n        var _ref9 = _slicedToArray(_ref8, 2),\n            hookParent = _ref9[0],\n            hookName = _ref9[1];\n\n        if (hookParent[hookName].originalHook) {\n          hookParent[hookName] = hookParent[hookName].originalHook;\n        }\n      });\n      delete React.__REVERT_WHY_DID_YOU_RENDER__;\n      delete React.isWDYR;\n    };\n\n    return React;\n  }\n\n  whyDidYouRender.defaultNotifier = defaultNotifier;\n  whyDidYouRender.wdyrStore = wdyrStore;\n  whyDidYouRender.storeOwnerData = storeOwnerData;\n  whyDidYouRender.getWDYRType = getWDYRType;\n  Object.assign(whyDidYouRender, React__namespace);\n  return whyDidYouRender;\n});","map":{"version":3,"sources":["../src/wdyrStore.js","../src/consts.js","../src/calculateDeepEqualDiffs.js","../src/printDiff.js","../src/defaultNotifier.js","../src/normalizeOptions.js","../src/getDisplayName.js","../src/findObjectsDifferences.js","../src/getUpdateInfo.js","../src/utils.js","../src/shouldTrack.js","../src/patches/patchClassComponent.js","../src/patches/patchFunctionalOrStrComponent.js","../src/patches/patchMemoComponent.js","../src/patches/patchForwardRefComponent.js","../src/whyDidYouRender.js","../src/index.js"],"names":["wdyrStore","React","options","origCreateElement","origCreateFactory","origCloneElement","componentsMap","ownerDataMap","hooksPerRender","diffTypes","diffTypesDescriptions","hasSymbol","Symbol","REACT_MEMO_TYPE","REACT_FORWARD_REF_TYPE","hasElementType","REACT_ELEMENT_TYPE","isReactElement","object","diffsAccumulator","diffType","pathString","prevValue","nextValue","b","dependenciesMap","detailed","a","trackDiff","isArray","arrayLength","arrayItemDiffs","numberOfDeepEqualsItems","i","diffEquals","accumulateDeepEqualDiffs","isSet","valA","isDate","isRegExp","reactElementPropsAreDeepEqual","isFunction","aDependenciesObj","bDependenciesObj","dependenciesAreDeepEqual","isPlainObject","keys","getKeys","keysLength","has","objectValuesDiffs","numberOfDeepEqualsObjectValues","key","deepEquals","diffs","error","console","consoleLog","calculateDeepEqualDiffs","diff","Object","groupBy","sortBy","moreInfoUrl","moreInfoHooksUrl","inHotReload","Component","hasDifferentValues","reason","displayName","hookName","prefixMessage","diffObjType","differences","values","printDiff","diffFn","prevProps","prevState","prevHook","nextProps","nextState","nextHook","updateInfo","shouldLog","logDifference","prev","next","prevOwnerData","nextOwnerData","props","state","result","module","status","setTimeout","emptyFn","userOptions","consoleGroup","consoleGroupEnd","notifier","createDefaultNotifier","include","exclude","onlyLogs","logOnDifferentValues","logOwnerReasons","trackHooks","titleColor","diffNameColor","diffPathColor","trackExtraHooks","trackAllPureComponents","type","getDisplayName","isString","emptyObject","shallow","userPrevObj","prevObj","nextObj","userNextObj","keysOfBothObjects","reduce","deepEqualDiffs","prevOwnerDataHooks","hookDifferences","findObjectsDifferences","propsDifferences","stateDifferences","ownerDifferences","getOwnerDifferences","getUpdateReason","StrictMode","reactInternalFiber","reactComponentInstance","regex","isHookChange","shouldExclude","isMemoComponent","shouldInclude","WDYRPatchedClassComponent","renderNumber","origRender","renderIsABindedFunction","ClassComponent","checkIfInsideAStrictModeTree","getUpdateInfo","defaults","getFunctionalComponentFromStringComponent","isPure","FunctionalComponent","arguments","ref","notifiedByHooks","WDYRFunctionalComponent","InnerMemoComponent","MemoComponent","isInnerMemoComponentAClassComponent","isReactClassComponent","isInnerMemoComponentForwardRefs","isForwardRefComponent","isInnerMemoComponentAnotherMemoComponent","WrappedFunctionalComponent","PatchedInnerComponent","patchClassComponent","patchMemoComponent","patchFunctionalOrStrComponent","WDYRMemoizedFunctionalComponent","InnerForwardRefComponent","ForwardRefComponent","isInnerComponentMemoized","WDYRWrappedByReactForwardRefFunctionalComponent","WDYRForwardRefFunctionalComponent","initialHookValue","path","hookPath","get","renderNumberForTheHook","isSecondCycleOfRenders","current","ComponentHookDispatchedFromInstance","prevHookRef","isShouldTrack","shouldTrack","newPrevHookRef","notification","patchForwardRefComponent","WDYRPatchedComponent","createPatchedComponent","getIsSupportedComponentType","Comp","hooksConfig","useState","useReducer","useContext","useMemo","dependenciesPath","dontReport","useCallback","OwnerInstance","element","hooks","currentOwner","set","hooksSupported","nativeHooks","hookTrackingConfig","hooksToTrack","hookParent","originalHook","newHookName","newHook","args","hookResult","deps","trackHookChanges","value","writable","origType","getPatchedComponent","normalizeOptions","resetHooksPerRenderIfNeeded","rest","WDYRType","getWDYRType","storeOwnerData","errorInfo","componentNameOrComponent","factory","trackHooksIfNeeded","createElement","createFactory","cloneElement","hooksToRevert","whyDidYouRender"],"mappings":"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","sourcesContent":["const wdyrStore = {\r\n  /* The React object we patch */\r\n  React: undefined,\r\n\r\n  /* Processed user options for WDYR */\r\n  options: undefined,\r\n\r\n  /* The original React.createElement function */\r\n  origCreateElement: undefined,\r\n\r\n  /* The original React.createFactory function */\r\n  origCreateFactory: undefined,\r\n\r\n  /* The original React.cloneElement function */\r\n  origCloneElement: undefined,\r\n\r\n  /* A weak map of all React elements to their WDYR patched react elements */\r\n  componentsMap: new WeakMap(),\r\n\r\n  /* A weak map of props to the owner element that passed them */\r\n  ownerDataMap: new WeakMap(),\r\n\r\n  /* An array of hooks tracked during one render */\r\n  hooksPerRender: []\r\n}\r\n\r\nexport default wdyrStore\r\n","export const diffTypes = {\r\n  'different': 'different',\r\n  'deepEquals': 'deepEquals',\r\n  'date': 'date',\r\n  'regex': 'regex',\r\n  'reactElement': 'reactElement',\r\n  'function': 'function',\r\n  'same': 'same'\r\n}\r\n\r\nexport const diffTypesDescriptions = {\r\n  [diffTypes.different]: 'different objects',\r\n  [diffTypes.deepEquals]: 'different objects that are equal by value',\r\n  [diffTypes.date]: 'different date objects with the same value',\r\n  [diffTypes.regex]: 'different regular expressions with the same value',\r\n  [diffTypes.reactElement]: 'different React elements (remember that the <jsx/> syntax always produces a *NEW* immutable React element so a component that receives <jsx/> as props always re-renders)',\r\n  [diffTypes.function]: 'different functions with the same name',\r\n  [diffTypes.same]: 'same objects by ref (===)'\r\n}\r\n\r\n// copied from packages/shared/ReactSymbols.js in https://github.com/facebook/react\r\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for\r\nexport const REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3\r\nexport const REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0\r\n","import {\r\n  isArray, isPlainObject, isDate,\r\n  isRegExp, isFunction, isSet,\r\n  keys as getKeys, has\r\n} from 'lodash'\r\n\r\nimport {diffTypes} from './consts'\r\n\r\nconst hasElementType = typeof Element !== 'undefined'\r\n\r\n// copied from https://github.com/facebook/react/packages/shared/ReactSymbols.js\r\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for\r\nconst REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7\r\nconst isReactElement = object => object.$$typeof === REACT_ELEMENT_TYPE\r\n// end\r\n\r\nfunction trackDiff(a, b, diffsAccumulator, pathString, diffType){\r\n  diffsAccumulator.push({\r\n    diffType,\r\n    pathString,\r\n    prevValue: a,\r\n    nextValue: b\r\n  })\r\n  return diffType !== diffTypes.different\r\n}\r\n\r\nexport const dependenciesMap = new WeakMap()\r\n\r\nfunction accumulateDeepEqualDiffs(a, b, diffsAccumulator, pathString = '', {detailed}){\r\n  if(a === b){\r\n    if(detailed){\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.same)\r\n    }\r\n    return true\r\n  }\r\n\r\n  if(!a || !b){\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isArray(a) && isArray(b)){\r\n    const arrayLength = a.length\r\n    if(arrayLength !== b.length){\r\n      return trackDiff([...a], [...b], diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    const arrayItemDiffs = []\r\n    let numberOfDeepEqualsItems = 0\r\n    for(let i = arrayLength; i--; i > 0){\r\n      const diffEquals = accumulateDeepEqualDiffs(a[i], b[i], arrayItemDiffs, `${pathString}[${i}]`, {detailed})\r\n      if(diffEquals){\r\n        numberOfDeepEqualsItems++\r\n      }\r\n    }\r\n\r\n    if(detailed || numberOfDeepEqualsItems !== arrayLength){\r\n      diffsAccumulator.push(...arrayItemDiffs)\r\n    }\r\n\r\n    if(numberOfDeepEqualsItems === arrayLength){\r\n      return trackDiff([...a], [...b], diffsAccumulator, pathString, diffTypes.deepEquals)\r\n    }\r\n\r\n    return trackDiff([...a], [...b], diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isSet(a) && isSet(b)){\r\n    if(a.size !== b.size){\r\n      return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    for(const valA of a){\r\n      if(!b.has(valA)){\r\n        return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.different)\r\n      }\r\n    }\r\n\r\n    return trackDiff(new Set(a), new Set(b), diffsAccumulator, pathString, diffTypes.deepEquals)\r\n  }\r\n\r\n  if(isDate(a) && isDate(b)){\r\n    return a.getTime() === b.getTime() ?\r\n      trackDiff(new Date(a), new Date(b), diffsAccumulator, pathString, diffTypes.date) :\r\n      trackDiff(new Date(a), new Date(b), diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isRegExp(a) && isRegExp(b)){\r\n    return a.toString() === b.toString() ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.regex) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(hasElementType && a instanceof Element && b instanceof Element){\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isReactElement(a) && isReactElement(b)){\r\n    if(a.type !== b.type){\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    const reactElementPropsAreDeepEqual =\r\n      accumulateDeepEqualDiffs(a.props, b.props, [], `${pathString}.props`, {detailed})\r\n\r\n    return reactElementPropsAreDeepEqual ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.reactElement) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isFunction(a) && isFunction(b)){\r\n    if(a.name !== b.name){\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    const aDependenciesObj = dependenciesMap.get(a)\r\n    const bDependenciesObj = dependenciesMap.get(b)\r\n\r\n    if(aDependenciesObj && bDependenciesObj){\r\n      const dependenciesAreDeepEqual =\r\n        accumulateDeepEqualDiffs(aDependenciesObj.deps, bDependenciesObj.deps, diffsAccumulator, `${pathString}:parent-hook-${aDependenciesObj.hookName}-deps`, {detailed})\r\n\r\n      return dependenciesAreDeepEqual ?\r\n        trackDiff(a, b, diffsAccumulator, pathString, diffTypes.function) :\r\n        trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.function)\r\n  }\r\n\r\n  if(isPlainObject(a) && isPlainObject(b)){\r\n    const keys = getKeys(a)\r\n    const keysLength = keys.length\r\n    if(keysLength !== getKeys(b).length){\r\n      return trackDiff({...a}, {...b}, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    for(let i = keysLength; i--; i > 0){\r\n      if(!has(b, keys[i])){\r\n        return trackDiff({...a}, {...b}, diffsAccumulator, pathString, diffTypes.different)\r\n      }\r\n    }\r\n\r\n    const objectValuesDiffs = []\r\n    let numberOfDeepEqualsObjectValues = 0\r\n    for(let i = keysLength; i--; i > 0){\r\n      const key = keys[i]\r\n      const deepEquals = accumulateDeepEqualDiffs(a[key], b[key], objectValuesDiffs, `${pathString}.${key}`, {detailed})\r\n      if(deepEquals){\r\n        numberOfDeepEqualsObjectValues++\r\n      }\r\n    }\r\n\r\n    if(detailed || numberOfDeepEqualsObjectValues !== keysLength){\r\n      diffsAccumulator.push(...objectValuesDiffs)\r\n    }\r\n\r\n    if(numberOfDeepEqualsObjectValues === keysLength){\r\n      return trackDiff({...a}, {...b}, diffsAccumulator, pathString, diffTypes.deepEquals)\r\n    }\r\n\r\n    return trackDiff({...a}, {...b}, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n}\r\n\r\nexport default function calculateDeepEqualDiffs(a, b, initialPathString, {detailed = false} = {}){\r\n  try{\r\n    const diffs = []\r\n    accumulateDeepEqualDiffs(a, b, diffs, initialPathString, {detailed})\r\n    return diffs\r\n  }catch(error){\r\n    if((error.message && error.message.match(/stack|recursion/i)) || (error.number === -2146828260)){\r\n      // warn on circular references, don't crash.\r\n      // browsers throw different errors name and messages:\r\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\r\n      // firefox: \"InternalError\", too much recursion\"\r\n      // edge: \"Error\", \"Out of stack space\"\r\n      // eslint-disable-next-line no-console\r\n      console.warn('Warning: why-did-you-render couldn\\'t handle circular references in props.', error.name, error.message)\r\n      return false\r\n    }\r\n    throw error\r\n  }\r\n}\r\n","import {sortBy, groupBy} from 'lodash'\r\n\r\nimport calculateDeepEqualDiffs from './calculateDeepEqualDiffs'\r\nimport {diffTypesDescriptions} from './consts'\r\n\r\nexport default function printDiff(value1, value2, {pathString, consoleLog}){\r\n  const diffs = calculateDeepEqualDiffs(value1, value2, pathString, {detailed: true})\r\n\r\n  const keysLength = Math.max(...diffs.map(diff => diff.pathString.length)) + 2\r\n\r\n  Object.entries(groupBy(sortBy(diffs, 'pathString'), 'diffType'))\r\n    .forEach(([diffType, diffs]) => {\r\n      consoleLog(`%c${diffTypesDescriptions[diffType]}:`, 'text-decoration: underline; color: blue;')\r\n      diffs.forEach(diff => {\r\n        consoleLog(`${diff.pathString}:`.padEnd(keysLength, ' '), diff.prevValue)\r\n      })\r\n    })\r\n}\r\n","import wdyrStore from './wdyrStore'\r\n\r\nimport {diffTypes, diffTypesDescriptions} from './consts'\r\nimport printDiff from './printDiff'\r\n\r\nconst moreInfoUrl = 'http://bit.ly/wdyr02'\r\nconst moreInfoHooksUrl = 'http://bit.ly/wdyr3'\r\n\r\nlet inHotReload = false\r\n\r\nfunction shouldLog(reason, Component){\r\n  if(inHotReload){\r\n    return false\r\n  }\r\n\r\n  if(wdyrStore.options.logOnDifferentValues){\r\n    return true\r\n  }\r\n\r\n  if(Component.whyDidYouRender && Component.whyDidYouRender.logOnDifferentValues){\r\n    return true\r\n  }\r\n\r\n  const hasDifferentValues = ((\r\n    reason.propsDifferences &&\r\n    reason.propsDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ) || (\r\n    reason.stateDifferences &&\r\n    reason.stateDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ) || (\r\n    reason.hookDifferences &&\r\n    reason.hookDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ))\r\n\r\n  return !hasDifferentValues\r\n}\r\n\r\nfunction logDifference({Component, displayName, hookName, prefixMessage, diffObjType, differences, values}){\r\n  if(differences && differences.length > 0){\r\n    wdyrStore.options.consoleLog({[displayName]: Component}, `${prefixMessage} of ${diffObjType} changes:`)\r\n    differences.forEach(({pathString, diffType, prevValue, nextValue}) => {\r\n      function diffFn(){\r\n        printDiff(prevValue, nextValue, {pathString, consoleLog: wdyrStore.options.consoleLog})\r\n      }\r\n      wdyrStore.options.consoleGroup(\r\n        `%c${diffObjType === 'hook' ? `[hook ${hookName} result]` : `${diffObjType}.`}%c${pathString}%c`,\r\n        `color:${wdyrStore.options.diffNameColor};`, `color:${wdyrStore.options.diffPathColor};`, 'color:default;'\r\n      )\r\n      wdyrStore.options.consoleLog(\r\n        `${diffTypesDescriptions[diffType]}. (more info at ${hookName ? moreInfoHooksUrl : moreInfoUrl})`,\r\n      )\r\n      wdyrStore.options.consoleLog({[`prev ${pathString}`]: prevValue}, '!==', {[`next ${pathString}`]: nextValue})\r\n      if(diffType === diffTypes.deepEquals){\r\n        wdyrStore.options.consoleLog({'For detailed diff, right click the following fn, save as global, and run: ': diffFn})\r\n      }\r\n      wdyrStore.options.consoleGroupEnd()\r\n    })\r\n  }\r\n  else if(differences){\r\n    wdyrStore.options.consoleLog(\r\n      {[displayName]: Component},\r\n      `${prefixMessage} the ${diffObjType} object itself changed but its values are all equal.`,\r\n      diffObjType === 'props' ?\r\n        'This could have been avoided by making the component pure, or by preventing its father from re-rendering.' :\r\n        'This usually means this component called setState when no changes in its state actually occurred.',\r\n      `More info at ${moreInfoUrl}`\r\n    )\r\n    wdyrStore.options.consoleLog(`prev ${diffObjType}:`, values.prev, ' !== ', values.next, `:next ${diffObjType}`)\r\n  }\r\n}\r\n\r\nexport default function defaultNotifier(updateInfo){\r\n  const {Component, displayName, hookName, prevProps, prevState, prevHook, nextProps, nextState, nextHook, reason} = updateInfo\r\n\r\n  if(!shouldLog(reason, Component, wdyrStore.options)){\r\n    return\r\n  }\r\n\r\n  wdyrStore.options.consoleGroup(`%c${displayName}`, `color: ${wdyrStore.options.titleColor};`)\r\n\r\n  let prefixMessage = 'Re-rendered because'\r\n\r\n  if(reason.propsDifferences){\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'props',\r\n      differences: reason.propsDifferences,\r\n      values: {prev: prevProps, next: nextProps}\r\n    })\r\n    prefixMessage = 'And because'\r\n  }\r\n\r\n  if(reason.stateDifferences){\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'state',\r\n      differences: reason.stateDifferences,\r\n      values: {prev: prevState, next: nextState}\r\n    })\r\n  }\r\n\r\n  if(reason.hookDifferences){\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'hook',\r\n      differences: reason.hookDifferences,\r\n      values: {prev: prevHook, next: nextHook},\r\n      hookName\r\n    })\r\n  }\r\n\r\n  if(reason.propsDifferences && reason.ownerDifferences){\r\n    const prevOwnerData = wdyrStore.ownerDataMap.get(prevProps)\r\n    const nextOwnerData = wdyrStore.ownerDataMap.get(nextProps)\r\n\r\n    wdyrStore.options.consoleGroup(`Rendered by ${nextOwnerData.displayName}`)\r\n    let prefixMessage = 'Re-rendered because'\r\n\r\n    if(reason.ownerDifferences.propsDifferences){\r\n      logDifference({\r\n        Component: nextOwnerData.Component,\r\n        displayName: nextOwnerData.displayName,\r\n        prefixMessage,\r\n        diffObjType: 'props',\r\n        differences: reason.ownerDifferences.propsDifferences,\r\n        values: {prev: prevOwnerData.props, next: nextOwnerData.props}\r\n      })\r\n      prefixMessage = 'And because'\r\n    }\r\n\r\n    if(reason.ownerDifferences.stateDifferences){\r\n      logDifference({\r\n        Component: nextOwnerData.Component,\r\n        displayName: nextOwnerData.displayName,\r\n        prefixMessage,\r\n        diffObjType: 'state',\r\n        differences: reason.ownerDifferences.stateDifferences,\r\n        values: {prev: prevOwnerData.state, next: nextOwnerData.state}\r\n      })\r\n    }\r\n\r\n    if(reason.ownerDifferences.hookDifferences){\r\n      reason.ownerDifferences.hookDifferences.forEach(({hookName, differences}, i) =>\r\n        logDifference({\r\n          Component: nextOwnerData.Component,\r\n          displayName: nextOwnerData.displayName,\r\n          prefixMessage,\r\n          diffObjType: 'hook',\r\n          differences,\r\n          values: {prev: prevOwnerData.hooks[i].result, next: nextOwnerData.hooks[i].result},\r\n          hookName\r\n        })\r\n      )\r\n    }\r\n    wdyrStore.options.consoleGroupEnd()\r\n  }\r\n\r\n  if(!reason.propsDifferences && !reason.stateDifferences && !reason.hookDifferences){\r\n    wdyrStore.options.consoleLog(\r\n      {[displayName]: Component},\r\n      'Re-rendered although props and state objects are the same.',\r\n      'This usually means there was a call to this.forceUpdate() inside the component.',\r\n      `more info at ${moreInfoUrl}`\r\n    )\r\n  }\r\n\r\n  wdyrStore.options.consoleGroupEnd()\r\n}\r\n\r\nexport function createDefaultNotifier(hotReloadBufferMs){\r\n  if(hotReloadBufferMs){\r\n    if(typeof(module) !== 'undefined' && module.hot && module.hot.addStatusHandler){\r\n      module.hot.addStatusHandler(status => {\r\n        if(status === 'idle'){\r\n          inHotReload = true\r\n          setTimeout(() => {\r\n            inHotReload = false\r\n          }, hotReloadBufferMs)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return defaultNotifier\r\n}\r\n","/* eslint-disable no-console */\r\nimport {createDefaultNotifier} from './defaultNotifier'\r\n\r\nconst emptyFn = () => {}\r\n\r\nexport default function normalizeOptions(userOptions = {}){\r\n  let consoleGroup = console.group\r\n  let consoleGroupEnd = console.groupEnd\r\n\r\n  if(userOptions.collapseGroups){\r\n    consoleGroup = console.groupCollapsed\r\n  }\r\n  else if(userOptions.onlyLogs){\r\n    consoleGroup = console.log\r\n    consoleGroupEnd = emptyFn\r\n  }\r\n\r\n  const notifier = userOptions.notifier || (\r\n    createDefaultNotifier(\r\n      ('hotReloadBufferMs' in userOptions) ? userOptions.hotReloadBufferMs : 500\r\n    )\r\n  )\r\n\r\n  return {\r\n    include: null,\r\n    exclude: null,\r\n    notifier,\r\n    onlyLogs: false,\r\n    consoleLog: console.log,\r\n    consoleGroup,\r\n    consoleGroupEnd,\r\n    logOnDifferentValues: false,\r\n    logOwnerReasons: true,\r\n    trackHooks: true,\r\n    titleColor: '#058',\r\n    diffNameColor: 'blue',\r\n    diffPathColor: 'red',\r\n    trackExtraHooks: [],\r\n    trackAllPureComponents: false,\r\n    ...userOptions\r\n  }\r\n}\r\n","import {isString} from 'lodash'\r\n\r\nexport default function getDisplayName(type){\r\n  return (\r\n    type.displayName ||\r\n    type.name ||\r\n    (type.type && getDisplayName(type.type)) ||\r\n    (type.render && getDisplayName(type.render)) ||\r\n    (isString(type) ? type : 'Unknown')\r\n  )\r\n}\r\n","import {reduce} from 'lodash'\r\nimport calculateDeepEqualDiffs from './calculateDeepEqualDiffs'\r\n\r\nconst emptyObject = {}\r\n\r\nexport default function findObjectsDifferences(userPrevObj, userNextObj, {shallow = true} = {}){\r\n  if(userPrevObj === userNextObj){\r\n    return false\r\n  }\r\n\r\n  if(!shallow){\r\n    return calculateDeepEqualDiffs(userPrevObj, userNextObj)\r\n  }\r\n\r\n  const prevObj = userPrevObj || emptyObject\r\n  const nextObj = userNextObj || emptyObject\r\n\r\n  const keysOfBothObjects = Object.keys({...prevObj, ...nextObj})\r\n\r\n  return reduce(keysOfBothObjects, (result, key) => {\r\n    const deepEqualDiffs = calculateDeepEqualDiffs(prevObj[key], nextObj[key], key)\r\n    if(deepEqualDiffs){\r\n      result = [\r\n        ...result,\r\n        ...deepEqualDiffs\r\n      ]\r\n    }\r\n    return result\r\n  }, [])\r\n}\r\n","import findObjectsDifferences from './findObjectsDifferences'\r\nimport wdyrStore from './wdyrStore'\r\n\r\nfunction getOwnerDifferences({prevOwnerData, nextOwnerData}){\r\n  if(!prevOwnerData || !nextOwnerData){\r\n    return false\r\n  }\r\n\r\n  // in strict mode prevOwnerData might be twice as lengthy because of double renders\r\n  const prevOwnerDataHooks = prevOwnerData.hooks.length === nextOwnerData.hooks.length * 2 ?\r\n    prevOwnerData.hooks.slice(prevOwnerData.hooks.length / 2) :\r\n    prevOwnerData.hooks\r\n\r\n  const hookDifferences = prevOwnerDataHooks.map(({hookName, result}, i) => ({\r\n    hookName,\r\n    differences: findObjectsDifferences(result, nextOwnerData.hooks[i].result, {shallow: false})\r\n  }))\r\n\r\n  return {\r\n    propsDifferences: findObjectsDifferences(prevOwnerData.props, nextOwnerData.props),\r\n    stateDifferences: findObjectsDifferences(prevOwnerData.state, nextOwnerData.state),\r\n    hookDifferences: hookDifferences.length > 0 ? hookDifferences : false\r\n  }\r\n}\r\n\r\nfunction getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook){\r\n  const prevOwnerData = wdyrStore.ownerDataMap.get(prevProps)\r\n  const nextOwnerData = wdyrStore.ownerDataMap.get(nextProps)\r\n\r\n  return {\r\n    propsDifferences: findObjectsDifferences(prevProps, nextProps),\r\n    stateDifferences: findObjectsDifferences(prevState, nextState),\r\n    hookDifferences: findObjectsDifferences(prevHook, nextHook, {shallow: false}),\r\n    ownerDifferences: getOwnerDifferences({prevOwnerData, nextOwnerData})\r\n  }\r\n}\r\n\r\nexport default function getUpdateInfo({Component, displayName, hookName, prevProps, prevState, prevHook, nextProps, nextState, nextHook}){\r\n  return {\r\n    Component,\r\n    displayName,\r\n    hookName,\r\n    prevProps,\r\n    prevState,\r\n    prevHook,\r\n    nextProps,\r\n    nextState,\r\n    nextHook,\r\n    reason: getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook)\r\n  }\r\n}\r\n","// copied from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactTypeOfMode.js\r\nimport {REACT_FORWARD_REF_TYPE, REACT_MEMO_TYPE} from './consts'\r\n\r\nconst StrictMode = 0b0001\r\n\r\n// based on \"findStrictRoot\" from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactStrictModeWarnings.js\r\n// notice: this is only used for class components. functional components doesn't render twice inside strict mode\r\nexport function checkIfInsideAStrictModeTree(reactComponentInstance){\r\n  let reactInternalFiber = reactComponentInstance && (\r\n    reactComponentInstance._reactInternalFiber ||\r\n    reactComponentInstance._reactInternals\r\n  )\r\n\r\n  while(reactInternalFiber){\r\n    if(reactInternalFiber.mode & StrictMode){\r\n      return true\r\n    }\r\n    reactInternalFiber = reactInternalFiber.return\r\n  }\r\n  return false\r\n}\r\n\r\nexport function isReactClassComponent(Component){\r\n  return Component.prototype && !!Component.prototype.isReactComponent\r\n}\r\n\r\nexport function isMemoComponent(Component){\r\n  return Component.$$typeof === REACT_MEMO_TYPE\r\n}\r\n\r\nexport function isForwardRefComponent(Component){\r\n  return Component.$$typeof === REACT_FORWARD_REF_TYPE\r\n}\r\n","import wdyrStore from './wdyrStore'\r\n\r\nimport {isMemoComponent} from './utils'\r\nimport getDisplayName from './getDisplayName'\r\n\r\nfunction shouldInclude(displayName){\r\n  return (\r\n    wdyrStore.options.include &&\r\n    wdyrStore.options.include.length > 0 &&\r\n    wdyrStore.options.include.some(regex => regex.test(displayName))\r\n  )\r\n}\r\n\r\nfunction shouldExclude(displayName){\r\n  return (\r\n    wdyrStore.options.exclude &&\r\n    wdyrStore.options.exclude.length > 0 &&\r\n    wdyrStore.options.exclude.some(regex => regex.test(displayName))\r\n  )\r\n}\r\n\r\nexport default function shouldTrack(Component, {isHookChange}){\r\n  const displayName = getDisplayName(Component)\r\n\r\n  if(shouldExclude(displayName)){\r\n    return false\r\n  }\r\n\r\n  if(Component.whyDidYouRender === false){\r\n    return false\r\n  }\r\n\r\n  if(isHookChange && (\r\n    Component.whyDidYouRender && Component.whyDidYouRender.trackHooks === false\r\n  )){\r\n    return false\r\n  }\r\n\r\n  return !!(\r\n    Component.whyDidYouRender || (\r\n      wdyrStore.options.trackAllPureComponents && (\r\n        (Component && Component.prototype instanceof wdyrStore.React.PureComponent) ||\r\n        isMemoComponent(Component)\r\n      )\r\n    ) ||\r\n    shouldInclude(displayName)\r\n  )\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport wdyrStore from '../wdyrStore'\r\n\r\nimport {checkIfInsideAStrictModeTree} from '../utils'\r\nimport getUpdateInfo from '../getUpdateInfo'\r\n\r\nexport default function patchClassComponent(ClassComponent, {displayName}){\r\n  class WDYRPatchedClassComponent extends ClassComponent{\r\n    constructor(props, context){\r\n      super(props, context)\r\n\r\n      this._WDYR = {\r\n        renderNumber: 0\r\n      }\r\n\r\n      const origRender = super.render || this.render\r\n\r\n      // this probably means that render is an arrow function or this.render.bind(this) was called on the original class\r\n      const renderIsABindedFunction = origRender !== ClassComponent.prototype.render\r\n      if(renderIsABindedFunction){\r\n        this.render = () => {\r\n          WDYRPatchedClassComponent.prototype.render.apply(this)\r\n          return origRender()\r\n        }\r\n      }\r\n    }\r\n    render(){\r\n      this._WDYR.renderNumber++\r\n\r\n      if(!('isStrictMode' in this._WDYR)){\r\n        this._WDYR.isStrictMode = checkIfInsideAStrictModeTree(this)\r\n      }\r\n\r\n      // in strict mode- ignore every other render\r\n      if(!(this._WDYR.isStrictMode && this._WDYR.renderNumber % 2 === 1)){\r\n        if(this._WDYR.prevProps){\r\n          const updateInfo = getUpdateInfo({\r\n            Component: ClassComponent,\r\n            displayName,\r\n            prevProps: this._WDYR.prevProps,\r\n            prevState: this._WDYR.prevState,\r\n            nextProps: this.props,\r\n            nextState: this.state\r\n          })\r\n\r\n          wdyrStore.options.notifier(updateInfo)\r\n        }\r\n\r\n        this._WDYR.prevProps = this.props\r\n        this._WDYR.prevState = this.state\r\n      }\r\n\r\n      return super.render ? super.render() : null\r\n    }\r\n  }\r\n\r\n  try{\r\n    WDYRPatchedClassComponent.displayName = displayName\r\n  }catch(e){\r\n    // not crucial if displayName couldn't be set\r\n  }\r\n\r\n  defaults(WDYRPatchedClassComponent, ClassComponent)\r\n\r\n  return WDYRPatchedClassComponent\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport wdyrStore from '../wdyrStore'\r\n\r\nimport getUpdateInfo from '../getUpdateInfo'\r\n\r\nconst getFunctionalComponentFromStringComponent = (componentTypeStr) => props => (\r\n  wdyrStore.React.createElement(componentTypeStr, props)\r\n)\r\n\r\nexport default function patchFunctionalOrStrComponent(FunctionalOrStringComponent, {isPure, displayName}){\r\n  const FunctionalComponent = typeof(FunctionalOrStringComponent) === 'string' ?\r\n    getFunctionalComponentFromStringComponent(FunctionalOrStringComponent) :\r\n    FunctionalOrStringComponent\r\n\r\n  function WDYRFunctionalComponent(){\r\n    const nextProps = arguments[0]\r\n    const ref = wdyrStore.React.useRef()\r\n\r\n    const prevProps = ref.current\r\n    ref.current = nextProps\r\n\r\n    if(prevProps){\r\n      const updateInfo = getUpdateInfo({\r\n        Component: FunctionalComponent,\r\n        displayName,\r\n        prevProps,\r\n        nextProps\r\n      })\r\n\r\n      const notifiedByHooks = (\r\n        !updateInfo.reason.propsDifferences || (\r\n          (isPure && updateInfo.reason.propsDifferences.length === 0)\r\n        )\r\n      )\r\n\r\n      if(!notifiedByHooks){\r\n        wdyrStore.options.notifier(updateInfo)\r\n      }\r\n    }\r\n\r\n    return FunctionalComponent(...arguments)\r\n  }\r\n\r\n  try{\r\n    WDYRFunctionalComponent.displayName = displayName\r\n  }catch(e){\r\n    // not crucial if displayName couldn't be set\r\n  }\r\n\r\n  WDYRFunctionalComponent.ComponentForHooksTracking = FunctionalComponent\r\n  defaults(WDYRFunctionalComponent, FunctionalComponent)\r\n\r\n  return WDYRFunctionalComponent\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport wdyrStore from '../wdyrStore'\r\n\r\nimport getDisplayName from '../getDisplayName'\r\nimport {isForwardRefComponent, isMemoComponent, isReactClassComponent} from '../utils'\r\nimport patchClassComponent from './patchClassComponent'\r\nimport patchFunctionalOrStrComponent from './patchFunctionalOrStrComponent'\r\n\r\nexport default function patchMemoComponent(MemoComponent, {displayName}){\r\n  const {type: InnerMemoComponent} = MemoComponent\r\n\r\n  const isInnerMemoComponentAClassComponent = isReactClassComponent(InnerMemoComponent)\r\n  const isInnerMemoComponentForwardRefs = isForwardRefComponent(InnerMemoComponent)\r\n  const isInnerMemoComponentAnotherMemoComponent = isMemoComponent(InnerMemoComponent)\r\n\r\n  const WrappedFunctionalComponent = isInnerMemoComponentForwardRefs ?\r\n    InnerMemoComponent.render :\r\n    InnerMemoComponent\r\n\r\n  const PatchedInnerComponent = isInnerMemoComponentAClassComponent ?\r\n    patchClassComponent(WrappedFunctionalComponent, {displayName}) :\r\n    (isInnerMemoComponentAnotherMemoComponent ?\r\n      patchMemoComponent(WrappedFunctionalComponent, {displayName}) :\r\n      patchFunctionalOrStrComponent(WrappedFunctionalComponent, {displayName, isPure: true})\r\n    )\r\n\r\n  try{\r\n    PatchedInnerComponent.displayName = getDisplayName(WrappedFunctionalComponent)\r\n  }catch(e){\r\n    // not crucial if displayName couldn't be set\r\n  }\r\n\r\n  PatchedInnerComponent.ComponentForHooksTracking = MemoComponent\r\n  defaults(PatchedInnerComponent, WrappedFunctionalComponent)\r\n\r\n  const WDYRMemoizedFunctionalComponent = wdyrStore.React.memo(\r\n    isInnerMemoComponentForwardRefs ? wdyrStore.React.forwardRef(PatchedInnerComponent) : PatchedInnerComponent,\r\n    MemoComponent.compare\r\n  )\r\n\r\n  try{\r\n    WDYRMemoizedFunctionalComponent.displayName = displayName\r\n  }catch(e){\r\n    // not crucial if displayName couldn't be set\r\n  }\r\n\r\n  defaults(WDYRMemoizedFunctionalComponent, MemoComponent)\r\n\r\n  return WDYRMemoizedFunctionalComponent\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport wdyrStore from '../wdyrStore'\r\n\r\nimport getDisplayName from '../getDisplayName'\r\nimport {isMemoComponent} from '../utils'\r\nimport patchFunctionalOrStrComponent from './patchFunctionalOrStrComponent'\r\n\r\nexport default function patchForwardRefComponent(ForwardRefComponent, {displayName}){\r\n  const {render: InnerForwardRefComponent} = ForwardRefComponent\r\n\r\n  const isInnerComponentMemoized = isMemoComponent(InnerForwardRefComponent)\r\n  const WrappedFunctionalComponent = isInnerComponentMemoized ?\r\n    InnerForwardRefComponent.type : InnerForwardRefComponent\r\n\r\n  const WDYRWrappedByReactForwardRefFunctionalComponent = (\r\n    patchFunctionalOrStrComponent(WrappedFunctionalComponent, {isPure: isInnerComponentMemoized, displayName})\r\n  )\r\n\r\n  WDYRWrappedByReactForwardRefFunctionalComponent.displayName = getDisplayName(WrappedFunctionalComponent)\r\n  WDYRWrappedByReactForwardRefFunctionalComponent.ComponentForHooksTracking = WrappedFunctionalComponent\r\n  defaults(WDYRWrappedByReactForwardRefFunctionalComponent, WrappedFunctionalComponent)\r\n\r\n  const WDYRForwardRefFunctionalComponent = wdyrStore.React.forwardRef(\r\n    isInnerComponentMemoized ?\r\n      wdyrStore.React.memo(WDYRWrappedByReactForwardRefFunctionalComponent, InnerForwardRefComponent.compare) :\r\n      WDYRWrappedByReactForwardRefFunctionalComponent\r\n  )\r\n\r\n  try{\r\n    WDYRForwardRefFunctionalComponent.displayName = displayName\r\n  }catch(e){\r\n    // not crucial if displayName couldn't be set\r\n  }\r\n\r\n  defaults(WDYRForwardRefFunctionalComponent, ForwardRefComponent)\r\n\r\n  return WDYRForwardRefFunctionalComponent\r\n}\r\n","import {get, isFunction} from 'lodash'\r\n\r\nimport wdyrStore from './wdyrStore'\r\n\r\nimport normalizeOptions from './normalizeOptions'\r\nimport getDisplayName from './getDisplayName'\r\nimport getUpdateInfo from './getUpdateInfo'\r\nimport shouldTrack from './shouldTrack'\r\n\r\nimport patchClassComponent from './patches/patchClassComponent'\r\nimport patchFunctionalOrStrComponent from './patches/patchFunctionalOrStrComponent'\r\nimport patchMemoComponent from './patches/patchMemoComponent'\r\nimport patchForwardRefComponent from './patches/patchForwardRefComponent'\r\n\r\nimport {isForwardRefComponent, isMemoComponent, isReactClassComponent} from './utils'\r\nimport {dependenciesMap} from './calculateDeepEqualDiffs'\r\n\r\nexport {wdyrStore}\r\n\r\nconst initialHookValue = Symbol('initial-hook-value')\r\n\r\nfunction trackHookChanges(hookName, {path: hookPath}, hookResult){\r\n  const nextHook = hookPath ? get(hookResult, hookPath) : hookResult\r\n\r\n  const renderNumberForTheHook = wdyrStore.React.useRef(true)\r\n\r\n  // TODO: improve\r\n  const isSecondCycleOfRenders = (\r\n    wdyrStore.hooksPerRender[0] &&\r\n    wdyrStore.hooksPerRender[0].renderNumberForTheHook !== renderNumberForTheHook.current\r\n  )\r\n\r\n  if(isSecondCycleOfRenders){\r\n    wdyrStore.hooksPerRender = []\r\n  }\r\n\r\n  wdyrStore.hooksPerRender.push({hookName, result: nextHook, renderNumberForTheHook: renderNumberForTheHook.current})\r\n\r\n  renderNumberForTheHook.current++\r\n\r\n  const ComponentHookDispatchedFromInstance = (\r\n    wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED &&\r\n    wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current\r\n  )\r\n\r\n  const prevHookRef = wdyrStore.React.useRef(initialHookValue)\r\n\r\n  if(!ComponentHookDispatchedFromInstance){\r\n    return hookResult\r\n  }\r\n\r\n  const Component = ComponentHookDispatchedFromInstance.type.ComponentForHooksTracking || ComponentHookDispatchedFromInstance.type\r\n  const displayName = getDisplayName(Component)\r\n\r\n  const isShouldTrack = shouldTrack(Component, {isHookChange: true})\r\n  if(!isShouldTrack){\r\n    return hookResult\r\n  }\r\n\r\n  const newPrevHookRef = prevHookRef.current\r\n  prevHookRef.current = hookResult\r\n\r\n  if(newPrevHookRef !== initialHookValue){\r\n    const notification = getUpdateInfo({\r\n      Component: Component,\r\n      displayName,\r\n      hookName,\r\n      prevHook: hookPath ? get(newPrevHookRef, hookPath) : newPrevHookRef,\r\n      nextHook\r\n    })\r\n\r\n    if(notification.reason.hookDifferences){\r\n      wdyrStore.options.notifier(notification)\r\n    }\r\n  }\r\n\r\n  return hookResult\r\n}\r\n\r\nfunction createPatchedComponent(Component, {displayName}){\r\n  if(isMemoComponent(Component)){\r\n    return patchMemoComponent(Component, {displayName})\r\n  }\r\n\r\n  if(isForwardRefComponent(Component)){\r\n    return patchForwardRefComponent(Component, {displayName})\r\n  }\r\n\r\n  if(isReactClassComponent(Component)){\r\n    return patchClassComponent(Component, {displayName})\r\n  }\r\n\r\n  return patchFunctionalOrStrComponent(Component, {displayName, isPure: false})\r\n}\r\n\r\nfunction getPatchedComponent(Component, {displayName}){\r\n  if(wdyrStore.componentsMap.has(Component)){\r\n    return wdyrStore.componentsMap.get(Component)\r\n  }\r\n\r\n  const WDYRPatchedComponent = createPatchedComponent(Component, {displayName})\r\n\r\n  wdyrStore.componentsMap.set(Component, WDYRPatchedComponent)\r\n\r\n  return WDYRPatchedComponent\r\n}\r\n\r\nfunction getIsSupportedComponentType(Comp){\r\n  if(!Comp){\r\n    return false\r\n  }\r\n\r\n  if(isMemoComponent(Comp)){\r\n    return getIsSupportedComponentType(Comp.type)\r\n  }\r\n\r\n  if(isForwardRefComponent(Comp)){\r\n    return getIsSupportedComponentType(Comp.render)\r\n  }\r\n\r\n  if(typeof Comp === 'function'){\r\n    return true\r\n  }\r\n}\r\n\r\nexport const hooksConfig = {\r\n  useState: {path: '0'},\r\n  useReducer: {path: '0'},\r\n  useContext: undefined,\r\n  useMemo: {dependenciesPath: '1', dontReport: true},\r\n  useCallback: {dependenciesPath: '1', dontReport: true}\r\n}\r\n\r\nexport function storeOwnerData(element){\r\n  const OwnerInstance = wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current\r\n  if(OwnerInstance){\r\n    const Component = OwnerInstance.type.ComponentForHooksTracking || OwnerInstance.type\r\n    const displayName = getDisplayName(Component)\r\n    wdyrStore.ownerDataMap.set(element.props, {\r\n      Component,\r\n      displayName,\r\n      props: OwnerInstance.pendingProps,\r\n      state: OwnerInstance.stateNode ? OwnerInstance.stateNode.state : null,\r\n      hooks: wdyrStore.hooksPerRender\r\n    })\r\n  }\r\n}\r\n\r\nfunction resetHooksPerRenderIfNeeded(){\r\n  // Intercept assignments to ReactCurrentOwner.current to reset hooksPerRender\r\n  let currentOwner = null\r\n  if(wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED){\r\n    Object.defineProperty(wdyrStore.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, 'current', {\r\n      get(){\r\n        return currentOwner\r\n      },\r\n      set(value){\r\n        currentOwner = value\r\n        wdyrStore.hooksPerRender = []\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction trackHooksIfNeeded(){\r\n  const hooksSupported = !!wdyrStore.React.useState\r\n\r\n  if(wdyrStore.options.trackHooks && hooksSupported){\r\n    const nativeHooks = Object.entries(hooksConfig).map(([hookName, hookTrackingConfig]) => {\r\n      return [wdyrStore.React, hookName, hookTrackingConfig]\r\n    })\r\n\r\n    const hooksToTrack = [\r\n      ...nativeHooks,\r\n      ...wdyrStore.options.trackExtraHooks\r\n    ]\r\n\r\n    hooksToTrack.forEach(([hookParent, hookName, hookTrackingConfig = {}]) => {\r\n      const originalHook = hookParent[hookName]\r\n      const newHookName = hookName[0].toUpperCase() + hookName.slice(1)\r\n\r\n      const newHook = function(...args){\r\n        const hookResult = originalHook.call(this, ...args)\r\n        const {dependenciesPath, dontReport} = hookTrackingConfig\r\n        if(dependenciesPath && isFunction(hookResult)){\r\n          dependenciesMap.set(hookResult, {hookName, deps: get(args, dependenciesPath)})\r\n        }\r\n        if(!dontReport){\r\n          trackHookChanges(hookName, hookTrackingConfig, hookResult)\r\n        }\r\n        return hookResult\r\n      }\r\n\r\n      Object.defineProperty(newHook, 'name', {value: newHookName, writable: false})\r\n      Object.assign(newHook, {originalHook})\r\n      hookParent[hookName] = newHook\r\n    })\r\n  }\r\n}\r\n\r\nexport function getWDYRType(origType){\r\n  const isShouldTrack = (\r\n    getIsSupportedComponentType(origType) &&\r\n    shouldTrack(origType, {isHookChange: false})\r\n  )\r\n\r\n  if(!isShouldTrack){\r\n    return null\r\n  }\r\n\r\n  const displayName = (\r\n    origType &&\r\n    origType.whyDidYouRender &&\r\n    origType.whyDidYouRender.customName ||\r\n    getDisplayName(origType)\r\n  )\r\n\r\n  const WDYRPatchedComponent = getPatchedComponent(origType, {displayName})\r\n\r\n  return WDYRPatchedComponent\r\n}\r\n\r\nexport default function whyDidYouRender(React, userOptions){\r\n  Object.assign(wdyrStore, {\r\n    React,\r\n    options: normalizeOptions(userOptions),\r\n    origCreateElement: React.createElement,\r\n    origCreateFactory: React.createFactory,\r\n    origCloneElement: React.cloneElement,\r\n    componentsMap: new WeakMap()\r\n  })\r\n\r\n  resetHooksPerRenderIfNeeded()\r\n\r\n  React.createElement = function(origType, ...rest){\r\n    const WDYRType = getWDYRType(origType)\r\n    if(WDYRType){\r\n      try{\r\n        const element = wdyrStore.origCreateElement.apply(React, [WDYRType, ...rest])\r\n        if(wdyrStore.options.logOwnerReasons){\r\n          storeOwnerData(element)\r\n        }\r\n        return element\r\n      }\r\n      catch(e){\r\n        wdyrStore.options.consoleLog('whyDidYouRender error. Please file a bug at https://github.com/welldone-software/why-did-you-render/issues.', {\r\n          errorInfo: {\r\n            error: e,\r\n            componentNameOrComponent: origType,\r\n            rest,\r\n            options: wdyrStore.options\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    return wdyrStore.origCreateElement.apply(React, [origType, ...rest])\r\n  }\r\n  Object.assign(React.createElement, wdyrStore.origCreateElement)\r\n\r\n  React.createFactory = type => {\r\n    const factory = React.createElement.bind(null, type)\r\n    factory.type = type\r\n    return factory\r\n  }\r\n  Object.assign(React.createFactory, wdyrStore.origCreateFactory)\r\n\r\n  React.cloneElement = (...args) => {\r\n    const element = wdyrStore.origCloneElement.apply(React, args)\r\n    if(wdyrStore.options.logOwnerReasons){\r\n      storeOwnerData(element)\r\n    }\r\n\r\n    return element\r\n  }\r\n  Object.assign(React.cloneElement, wdyrStore.origCloneElement)\r\n\r\n  trackHooksIfNeeded()\r\n\r\n  React.isWDYR = true\r\n\r\n  React.__REVERT_WHY_DID_YOU_RENDER__ = () => {\r\n    Object.assign(React, {\r\n      createElement: wdyrStore.origCreateElement,\r\n      createFactory: wdyrStore.origCreateFactory,\r\n      cloneElement: wdyrStore.origCloneElement\r\n    })\r\n\r\n    wdyrStore.componentsMap = null\r\n\r\n    const hooksToRevert = [\r\n      ...Object.keys(hooksConfig).map(hookName => [React, hookName]),\r\n      ...wdyrStore.options.trackExtraHooks\r\n    ]\r\n    hooksToRevert.forEach(([hookParent, hookName]) => {\r\n      if(hookParent[hookName].originalHook){\r\n        hookParent[hookName] = hookParent[hookName].originalHook\r\n      }\r\n    })\r\n\r\n    delete React.__REVERT_WHY_DID_YOU_RENDER__\r\n    delete React.isWDYR\r\n  }\r\n\r\n  return React\r\n}\r\n","import * as React from 'react'\r\n\r\nimport wdyrStore from './wdyrStore'\r\n\r\nimport whyDidYouRender, {storeOwnerData, getWDYRType} from './whyDidYouRender'\r\nimport defaultNotifier from './defaultNotifier'\r\n\r\nwhyDidYouRender.defaultNotifier = defaultNotifier\r\nwhyDidYouRender.wdyrStore = wdyrStore\r\nwhyDidYouRender.storeOwnerData = storeOwnerData\r\nwhyDidYouRender.getWDYRType = getWDYRType\r\nObject.assign(whyDidYouRender, React)\r\n\r\nexport default whyDidYouRender\r\n"]},"metadata":{},"sourceType":"script"}