{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\majdee\\\\OneDrive\\\\prpogramming projects\\\\Hospital project with sass\\\\front\\\\ui\\\\src\\\\Components\\\\Main Content\\\\Clinics Components\\\\Clinic.js\",\n    _s = $RefreshSig$();\n\nimport React, { useLayoutEffect, useState } from 'react';\nimport ClinicForm from \"./ClinicForm\";\nimport ClinicsTable from \"./ClinicsTable\";\nimport { getAllClinics } from \"./Clinics Functions/ClinicsFunctions\";\nimport api from \"../../Re-usable/Api Url/apiURL\";\nimport { webApiURL as webApiUrl } from \"../../../Constants/URLConstants\";\n\nconst Clinic = props => {\n  _s();\n\n  const clinicId = props.match !== undefined ? props.match.params.id : undefined;\n  const [update, setUpdate] = useState(true);\n  const [clinics, setClinics] = useState([]);\n  const [clinic, setClinic] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  function refresh() {\n    setUpdate(!update);\n  }\n\n  const getClinic = async () => {\n    try {\n      const res = await api.get(webApiUrl.clinics.getClinic + clinicId);\n      setClinic(res.data);\n    } catch (e) {}\n  };\n\n  const fetchData = async () => {\n    setClinics(await getAllClinics());\n\n    if (clinicId !== undefined) {\n      //if the id is found in the url\n      await getClinic();\n    }\n\n    setLoading(true);\n  };\n\n  useLayoutEffect(() => {\n    fetchData();\n  }, [update]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"clinics-wrapper\",\n    children: loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ClinicForm, {\n        setUpdate: refresh,\n        clinic: clinicId === undefined ? undefined : clinic\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ClinicsTable, {\n        clinics: clinics\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Clinic, \"ZWD+PO/df7VNStTRy516NR+0TaQ=\");\n\n_c = Clinic;\nexport default Clinic;\n\nvar _c;\n\n$RefreshReg$(_c, \"Clinic\");","map":{"version":3,"sources":["C:/Users/majdee/OneDrive/prpogramming projects/Hospital project with sass/front/ui/src/Components/Main Content/Clinics Components/Clinic.js"],"names":["React","useLayoutEffect","useState","ClinicForm","ClinicsTable","getAllClinics","api","webApiURL","webApiUrl","Clinic","props","clinicId","match","undefined","params","id","update","setUpdate","clinics","setClinics","clinic","setClinic","loading","setLoading","refresh","getClinic","res","get","data","e","fetchData"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,eAAf,EAAgCC,QAAhC,QAA+C,OAA/C;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAAQC,aAAR,QAA4B,sCAA5B;AACA,OAAOC,GAAP,MAAgB,gCAAhB;AACA,SAAQC,SAAS,IAAIC,SAArB,QAAqC,iCAArC;;AAEA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AAAA;;AACtB,QAAMC,QAAQ,GAAGD,KAAK,CAACE,KAAN,KAAgBC,SAAhB,GAA4BH,KAAK,CAACE,KAAN,CAAYE,MAAZ,CAAmBC,EAA/C,GAAoDF,SAArE;AACA,QAAM,CAACG,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAACgB,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACkB,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACoB,OAAD,EAAUC,UAAV,IAAwBrB,QAAQ,CAAC,KAAD,CAAtC;;AAEA,WAASsB,OAAT,GAAmB;AACfP,IAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;AACH;;AAED,QAAMS,SAAS,GAAG,YAAY;AAC1B,QAAI;AACA,YAAMC,GAAG,GAAG,MAAMpB,GAAG,CAACqB,GAAJ,CAAQnB,SAAS,CAACU,OAAV,CAAkBO,SAAlB,GAA8Bd,QAAtC,CAAlB;AACAU,MAAAA,SAAS,CAACK,GAAG,CAACE,IAAL,CAAT;AACH,KAHD,CAGE,OAAOC,CAAP,EAAU,CAEX;AACJ,GAPD;;AAQA,QAAMC,SAAS,GAAG,YAAY;AAC1BX,IAAAA,UAAU,CAAC,MAAMd,aAAa,EAApB,CAAV;;AAEA,QAAIM,QAAQ,KAAKE,SAAjB,EAA4B;AAAC;AACzB,YAAMY,SAAS,EAAf;AACH;;AACDF,IAAAA,UAAU,CAAC,IAAD,CAAV;AACH,GAPD;;AASAtB,EAAAA,eAAe,CAAC,MAAM;AAClB6B,IAAAA,SAAS;AACZ,GAFc,EAEZ,CAACd,MAAD,CAFY,CAAf;AAKA,sBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,cACKM,OAAO,iBAAI;AAAA,8BACR,QAAC,UAAD;AAAY,QAAA,SAAS,EAAEE,OAAvB;AAAgC,QAAA,MAAM,EAAEb,QAAQ,KAAKE,SAAb,GAAyBA,SAAzB,GAAqCO;AAA7E;AAAA;AAAA;AAAA;AAAA,cADQ,eAER,QAAC,YAAD;AAAc,QAAA,OAAO,EAAEF;AAAvB;AAAA;AAAA;AAAA;AAAA,cAFQ;AAAA;AADhB;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CAzCD;;GAAMT,M;;KAAAA,M;AA2CN,eAAeA,MAAf","sourcesContent":["import React, {useLayoutEffect, useState} from 'react';\r\nimport ClinicForm from \"./ClinicForm\";\r\nimport ClinicsTable from \"./ClinicsTable\";\r\nimport {getAllClinics} from \"./Clinics Functions/ClinicsFunctions\";\r\nimport api from \"../../Re-usable/Api Url/apiURL\";\r\nimport {webApiURL as webApiUrl} from \"../../../Constants/URLConstants\";\r\n\r\nconst Clinic = (props) => {\r\n    const clinicId = props.match !== undefined ? props.match.params.id : undefined\r\n    const [update, setUpdate] = useState(true)\r\n    const [clinics, setClinics] = useState([]);\r\n    const [clinic, setClinic] = useState([]);\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    function refresh() {\r\n        setUpdate(!update)\r\n    }\r\n\r\n    const getClinic = async () => {\r\n        try {\r\n            const res = await api.get(webApiUrl.clinics.getClinic + clinicId);\r\n            setClinic(res.data)\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n    const fetchData = async () => {\r\n        setClinics(await getAllClinics());\r\n\r\n        if (clinicId !== undefined) {//if the id is found in the url\r\n            await getClinic()\r\n        }\r\n        setLoading(true)\r\n    }\r\n\r\n    useLayoutEffect(() => {\r\n        fetchData()\r\n    }, [update])\r\n\r\n\r\n    return (\r\n        <div className=\"clinics-wrapper\">\r\n            {loading && <>\r\n                <ClinicForm setUpdate={refresh} clinic={clinicId === undefined ? undefined : clinic}/>\r\n                <ClinicsTable clinics={clinics}/>\r\n            </>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Clinic;"]},"metadata":{},"sourceType":"module"}