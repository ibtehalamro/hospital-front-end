{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\majdee\\\\OneDrive\\\\prpogramming projects\\\\Hospital project with sass\\\\front\\\\ui\\\\src\\\\Components\\\\Main Content\\\\Employee\\\\Employee Forms\\\\FindEmployee.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport TextInputCustom from \"../../../Re-usable/FormComponents/TextInputCustom\";\nimport { useForm } from \"react-hook-form\";\nimport { messages, registerObject } from \"../../../../Common Functions/FormObjects\";\nimport { findEmployeeService } from \"../Employee Logic/EmployeeServices\";\nimport { getPersonAge } from \"../../../../Common Functions/PersonFunctions\";\nimport { Link } from \"react-router-dom\";\nimport { employeeURLS } from \"../../../../Constants/URLConstants\";\n\nfunction FindEmployee({\n  onSubmit,\n  onChange\n}) {\n  _s();\n\n  const [employeesList, setEmployeesList] = useState([]); //result of searching the employee name stored here as array\n\n  const [serverError, setServerError] = useState(); //if there is server errors returned stored here\n\n  const {\n    register,\n    errors,\n    handleSubmit\n  } = useForm();\n\n  const onChangeName = async e => {\n    setServerError(\"\");\n\n    try {\n      if (e.target.value.length === 0) {\n        setEmployeesList([]);\n      } else {\n        const res = await findEmployeeService(e.target.value, setEmployeesList, setServerError);\n        setEmployeesList(res.data);\n      }\n    } catch (e) {\n      var _e$response;\n\n      setServerError(e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.data);\n      setEmployeesList([]);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"find-person-form-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Type the employee name then locate him in the bellow list\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"find-person-form\",\n      onSubmit: handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(TextInputCustom, {\n        field: \"firstName\",\n        label: \"First Name\",\n        errorMessages: messages,\n        form: {\n          register,\n          errors,\n          registerObject\n        },\n        onChange: onChangeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), serverError && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-weight-bold text-danger\",\n      children: serverError.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }, this), employeesList !== undefined && employeesList.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"employees-list-find-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"number\",\n              children: \"id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"number\",\n              children: \"Age\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"number\",\n              children: \"Date of Birth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: employeesList.map(employee => {\n            const name = employee.person.personName;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: employee.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: name.firstName + \" \" + name.parentName + \" \" + name.grandName + \" \" + name.familyName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [getPersonAge(employee.person.dateOfBirth), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"   \", employee.person.dateOfBirth]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: employeeURLS.employeeInfo + employee.id,\n                  children: \"info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 37\n              }, this)]\n            }, employee.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this) : \"\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FindEmployee, \"6vFS8ebfnxxjTQOCyBIOqzEu8cc=\", false, function () {\n  return [useForm];\n});\n\n_c = FindEmployee;\nexport default FindEmployee;\n\nvar _c;\n\n$RefreshReg$(_c, \"FindEmployee\");","map":{"version":3,"sources":["C:/Users/majdee/OneDrive/prpogramming projects/Hospital project with sass/front/ui/src/Components/Main Content/Employee/Employee Forms/FindEmployee.js"],"names":["React","useState","TextInputCustom","useForm","messages","registerObject","findEmployeeService","getPersonAge","Link","employeeURLS","FindEmployee","onSubmit","onChange","employeesList","setEmployeesList","serverError","setServerError","register","errors","handleSubmit","onChangeName","e","target","value","length","res","data","response","message","undefined","map","employee","name","person","personName","id","firstName","parentName","grandName","familyName","dateOfBirth","employeeInfo"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport TextInputCustom from \"../../../Re-usable/FormComponents/TextInputCustom\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {messages, registerObject} from \"../../../../Common Functions/FormObjects\";\r\nimport {findEmployeeService} from \"../Employee Logic/EmployeeServices\";\r\nimport {getPersonAge} from \"../../../../Common Functions/PersonFunctions\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {employeeURLS} from \"../../../../Constants/URLConstants\";\r\n\r\n\r\nfunction FindEmployee({onSubmit, onChange}) {\r\n\r\n    const [employeesList, setEmployeesList] = useState([])//result of searching the employee name stored here as array\r\n    const [serverError, setServerError] = useState()//if there is server errors returned stored here\r\n\r\n    const {register, errors, handleSubmit} = useForm();\r\n\r\n    const onChangeName = async (e) => {\r\n\r\n        setServerError(\"\")\r\n        try {\r\n            if (e.target.value.length === 0) {\r\n            setEmployeesList([])\r\n        }\r\n            else  {\r\n                const res = await findEmployeeService(e.target.value, setEmployeesList, setServerError);\r\n                setEmployeesList(res.data)\r\n            }\r\n        } catch (e) {\r\n\r\n            setServerError(e?.response?.data)\r\n            setEmployeesList([])\r\n        }\r\n\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"find-person-form-wrapper\">\r\n\r\n            <h3>Type the employee name then locate him in the bellow list</h3>\r\n            <br/>\r\n\r\n            <form className={\"find-person-form\"} onSubmit={handleSubmit(onSubmit)}>\r\n                <TextInputCustom field=\"firstName\" label=\"First Name\" errorMessages={messages}\r\n                                 form={{register, errors, registerObject}} onChange={onChangeName}/>\r\n            </form>\r\n            {serverError && <p className=\"font-weight-bold text-danger\">{serverError.message}</p>}\r\n            {employeesList !== undefined && employeesList.length > 0 ?\r\n                <div className=\"employees-list-find-wrapper\">\r\n                    <table>\r\n                        <thead>\r\n                        <tr>\r\n                            <th className={\"number\"}>id</th>\r\n                            <th>Name</th>\r\n                            <th className={\"number\"}>Age</th>\r\n                            <th className={\"number\"}>Date of Birth</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {employeesList.map(employee => {\r\n                            const name = employee.person.personName;\r\n                            return (\r\n                                <tr key={employee.id}>\r\n                                    <td>{employee.id}</td>\r\n                                    <td>{name.firstName + \" \" + name.parentName + \" \" + name.grandName + \" \" + name.familyName}</td>\r\n                                    <td>{getPersonAge(employee.person.dateOfBirth)} </td>\r\n                                    <td>   {employee.person.dateOfBirth}</td>\r\n                                    <td>\r\n                                        <Link to={employeeURLS.employeeInfo + employee.id}>info</Link></td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                        </tbody>\r\n                    </table>\r\n\r\n                </div>\r\n                : \"\"}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FindEmployee;"]},"metadata":{},"sourceType":"module"}